## ğŸ“Œ ë™ê¸°í™” ë¬¸ì œ (Race Condition, Deadlock) + ì„¸ë§ˆí¬ì–´ & ë®¤í…ìŠ¤

### Race Condition(ê²½ìŸ ì¡°ê±´)

> ë‘˜ ì´ìƒì˜ í”„ë¡œì„¸ìŠ¤ or ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ê³µìœ  ìì›ì— ì ‘ê·¼í•˜ë©´ì„œ, ì‹¤í–‰ ìˆœì„œë‚˜ íƒ€ì´ë°ì—ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” ë¬¸ì œ ìƒí™©
>
- ê³µìœ  ìì›ì— ëŒ€í•´ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‹œì— ì ‘ê·¼í•  ë•Œ, ê²°ê³¼ê°’ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆëŠ” ìƒíƒœ
- ë™ì‹œ ì ‘ê·¼ ì‹œ ìë£Œì˜ ì¼ê´€ì„±ì„ í•´ì¹˜ëŠ” ê²°ê³¼ê°€ ë‚˜íƒ€ë‚¨
    - ìˆœì„œì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” ë¬¸ì œ
- `ë¬¸ë§¥ êµí™˜(Context Switching)`ì´ ì ì ˆí•˜ì§€ ì•Šì€ ì‹œì ì— ë°œìƒí•˜ë©´, ê³µìœ  ìì›ì˜ ìƒíƒœê°€ ê¼¬ì¼ ìˆ˜ ìˆìŒ
- `Race Condition(ê²½ìŸ ì¡°ê±´)`ì— ì²˜í•œ ê²½ìš° ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ì–»ëŠ”ë‹¤.
- ë™ê¸°í™” ë¬¸ì œ

**Race Conditionì´ ë°œìƒí•˜ëŠ” ì‚¬ë¡€**

1. ì»¤ë„ ì‘ì—… ì¤‘ì— ì¸í„°ëŸ½íŠ¸ ë°œìƒ
    - ë¬¸ì œì  : ì»¤ë„ëª¨ë“œì—ì„œ ê³µìœ  ë°ì´í„°ë¥¼ ì¡°ì‘í•˜ë˜ ì¤‘ ì¸í„°ëŸ½íŠ¸ê°€ ë°œìƒí•˜ì—¬, ë™ì¼í•œ ë°ì´í„°ë¥¼ ì¡°ì‘í•˜ëŠ” ê²½ìš°
    - í•´ê²°ë²• : ì»¤ë„ëª¨ë“œì—ì„œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë™ì•ˆ ì¸í„°ëŸ½íŠ¸ë¥¼ ë¹„í™œì„±í™”ì‹œì¼œ  CPU ì œì–´ê¶Œì„ ë¹¼ì•—ê¸°ì§€ ì•Šë„ë¡ í•¨
2. ì»¤ë„ ëª¨ë“œë¡œ ì§„ì… í›„ `Context Swtiching`ì´ ë°œìƒ
    - ë¬¸ì œì  : í”„ë¡œì„¸ìŠ¤1ì´ ì»¤ë„ëª¨ë“œì—ì„œ ë°ì´í„°ë¥¼ ì¡°ì‘í•˜ëŠ” ë„ì¤‘, ì‹œê°„ ì´ˆê³¼ë˜ì–´ CPU ì œì–´ê¶Œì„ ë¹¼ì•—ê¸°ê³ , ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì¼í•œ ìì›ì„ ì¡°ì‘í•  ìˆ˜ ìˆëŠ” ìƒíƒœ
    - í•´ê²°ë²•: í”„ë¡œì„¸ìŠ¤ê°€ ì»¤ë„ëª¨ë“œì—ì„œ ì‘ì—…ì„ í•˜ëŠ” ê²½ìš° ì‹œê°„ì´ ì´ˆê³¼ë˜ì–´ë„ CPU ì œì–´ê¶Œì´ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ë„˜ì–´ê°€ì§€ ì•Šë„ë¡ í•¨ (ì„ ì  ë°©ì§€ or ë™ê¸°í™” ê¸°ë²•)
3. ë©€í‹° í”„ë¡œì„¸ì„œ í™˜ê²½ì—ì„œ ê³µìœ  ë©”ëª¨ë¦¬ ì ‘ê·¼
    - ë¬¸ì œì  : ë©€í‹°í”„ë¡œì„¸ì„œ í™˜ê²½ì—ì„œ 2ê°œì˜ CPUê°€ ë™ì‹œì— ì»¤ë„ ë‚´ë¶€ì˜ ê³µìœ  ë°ì´í„°ì— ì ‘ê·¼í•˜ì—¬ ì¡°ì‘í•˜ëŠ” ê²½ìš° ì¼ê´€ì„±ì´ ê¹¨ì§ˆ ìˆ˜ ìˆìŒ
    - í•´ê²°ë²• : í•´ë‹¹ ìì›ì— ëŒ€í•œ `lock/unlock`ì„ ì‚¬ìš©í•˜ì—¬ ìƒí˜¸ ë°°ì œë¥¼ êµ¬í˜„

ğŸ“‚ **[ê°œë°œìê°€ ì•Œì•„ì•¼í•˜ëŠ” ì´ìœ ]**

- Race Condition ë°œìƒ ì‹œ Data Integrity(ë°ì´í„° ë¬´ê²°ì„±)ì´ ê¹¨ì ¸ì„œ í”„ë¡œê·¸ë¨ ì˜¤ë¥˜ ë°œìƒ
- ë©€í‹°ìŠ¤ë ˆë“œ & ë¹„ë™ê¸° í™˜ê²½ì—ì„œ **Spring + ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½**, **DB íŠ¸ëœì­ì…˜**, **ì„œë²„ API ë™ì‹œ ìš”ì²­**ì—ì„œ ì‰½ê²ŒÂ ë°œìƒí•˜ëŠ” ë¬¸ì œ

**ğŸ’¡Â Q.** **Race Condition ì´ ë¬´ì—‡ì¸ê°€ìš”?**

A. ë‘˜ ì´ìƒì˜ í”„ë¡œì„¸ìŠ¤ë‚˜ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ê³µìœ  ìì›ì— ì ‘ê·¼í•˜ë©´ì„œ, ì‹¤í–‰ ìˆœì„œë‚˜ íƒ€ì´ë°ì— ë”°ë¼ í”„ë¡œê·¸ë¨ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” í˜„ìƒì…ë‹ˆë‹¤. ë™ê¸°í™” ì—†ì´ ë™ì‹œì— ì ‘ê·¼í•  ê²½ìš° ë°ì´í„° ë¬´ê²°ì„±ì´ ê¹¨ì§€ê±°ë‚˜ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ê²°ê³¼ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Deadlock(êµì°© ìƒíƒœ)

> ë‘ê°œ ì´ìƒì˜ í”„ë¡œì„¸ìŠ¤ë‚˜ ìŠ¤ë ˆë“œê°€ ì„œë¡œ ìì›ì„ ì–»ì§€ ëª»í•´ì„œ ë‹¤ìŒ ì²˜ë¦¬ë¥¼ í•˜ì§€ ëª»í•˜ëŠ” ìƒíƒœ
>
- ë¬´í•œíˆ ë‹¤ìŒ ìì›ì„ ê¸°ë‹¤ë¦¬ê²Œ ë˜ëŠ” ìƒíƒœ
- ì‹œìŠ¤í…œì ìœ¼ë¡œ í•œì •ëœ ìì›ì„ ì—¬ëŸ¬ ê³³ì—ì„œ ì‚¬ìš©í•˜ë ¤ê³  í•  ë•Œ ë°œìƒ
- ë‘ í”„ë¡œì„¸ìŠ¤ê°€ ì„œë¡œ ì›í•˜ëŠ” ìì›ì´ ìƒëŒ€ë°©ì— í• ë‹¹ë˜ì–´ ìˆì–´ì„œ ë¬´í•œì • wait ìƒíƒœì— ë¹ ì§€ëŠ” í˜„ìƒ

### 1. Deadlock prevention(ì˜ˆë°©)

- Mutual exclusion(ìƒí˜¸ ë°°ì œ)
    - í•œë²ˆì— í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë§Œ ìì›ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
    - ì¦‰, ê³µìœ  ìì›ì€ ë™ì‹œì— ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤
    - ex) í”„ë¦°í„° ê°™ì€ ìì›ì€ ë™ì‹œì— ë‘ ê°œì˜ ì‘ì—…ì´ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. í•œ ì‘ì—…ì´ ëë‚˜ì•¼ ë‹¤ìŒ ì‘ì—… ì‹œì‘
- Hold and wait(ì ìœ  ëŒ€ê¸°)
    - ìì›ì„ ê°€ì§€ê³  ìˆìœ¼ë©´ì„œ, ë‹¤ë¥¸ ìì›ì´ í’€ë¦¬ê¸¸ ê¸°ë‹¤ë¦¬ëŠ” ìƒí™©
    - í”„ë¡œì„¸ìŠ¤ê°€ ì ì–´ë„ í•˜ë‚˜ì˜ ìì›ì„ ì ìœ í•˜ê³  ìˆê³ , ì¶”ê°€ë¡œ ë‹¤ë¥¸ ìì›ì„ ìš”ì²­í•˜ë©´ì„œ ê¸°ë‹¤ë¦¬ëŠ” ìƒí™©
    - ex) íŒŒì¼ì„ ì ìœ í•œ í”„ë¡œì„¸ìŠ¤ê°€ ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì´ í•„ìš”í•´ì„œ ê¸°ë‹¤ë¦¬ëŠ” ìƒí™©
- No preemption(ë¹„ì„ ì )
    - ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ìì›ì„ ë¹¼ì•—ì„ ìˆ˜ ì—†ìŒ
    - í•œë²ˆ ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ê°€ ìì›ì„ ê°€ì§€ë©´ ìŠ¤ìŠ¤ë¡œ ë°˜ë‚©í•˜ê¸° ì „ê¹Œì§€ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ì‚¬ìš© í•  ìˆ˜ ì—†ë‹¤
    - ex) ë‚´ê°€ ë¬¸ì„œë¥¼ ì‘ì—…í•˜ëŠ” ë™ì•ˆì—ëŠ” ë‹¤ë¥¸ ì‚¬ëŒì´ ê°•ì œë¡œ ë¬¸ì„œë¥¼ ì‘ì—…í•˜ëŸ¬ ê°€ì ¸ê°ˆ ìˆ˜ ì—†ìŒ. ì‘ì—…ì´ ëë‚˜ê³  ë‚˜ì„œì•¼ ë¬¸ì„œë¥¼ ë„˜ê²¨ì¤Œ
- Circular wait(ìˆœí™˜ ëŒ€ê¸°)
    - í”„ë¡œì„¸ìŠ¤ë“¤ì´ ì›í˜•ìœ¼ë¡œ ìì›ì„ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœ
    - Aâ†’ B â†’ C â†’ A ì´ë ‡ê²Œ ì„œë¡œê°€ ì„œë¡œì˜ ìì›ì„ ê¸°ë‹¤ë¦¬ëŠ” ê¼¬ë¦¬ë¬¼ê¸° ìƒíƒœ

| **ì¡°ê±´** | **ì„¤ëª…** |
| --- | --- |
| ìƒí˜¸ ë°°ì œ | ìì›ì„ ë™ì‹œì— ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ |
| ì ìœ  ë° ëŒ€ê¸° | ìì›ì„ ì ìœ í•œ ì±„ë¡œ ì¶”ê°€ ìì›ì„ ê¸°ë‹¤ë¦°ë‹¤ |
| ë¹„ì„ ì  | ìì›ì„ ê°•ì œë¡œ ë¹¼ì•—ì„ ìˆ˜ ì—†ë‹¤ |
| ìˆœí™˜ ëŒ€ê¸° | í”„ë¡œì„¸ìŠ¤ë“¤ì´ ì›í˜•ìœ¼ë¡œ ìì›ì„ ê¸°ë‹¤ë¦°ë‹¤ |
- 4ê°€ì§€ ìƒíƒœ ëª¨ë‘ ë§Œì¡±ì‹œ Deadlock(êµì°© ìƒíƒœ) ë°œìƒ

### 2. Deadlock avoidance(íšŒí”¼)

> ìì› ìš”ì²­ì— ëŒ€í•œ ë¶€ê°€ì •ë³´ë¥¼ ì´ìš©í•´ì„œ ìì› í• ë‹¹ì´ Deadlockìœ¼ë¡œë¶€í„° safeí•œ ì§€ ë™ì ìœ¼ë¡œ ì¡°ì‚¬í•´ì„œ ì•ˆì „í•œ ê²½ìš°ì—ë§Œ í• ë‹¹
>

![0415-1](https://github.com/user-attachments/assets/d1b4cf1a-5698-4e95-a966-88f892e6982b)


- Safe State(ì•ˆì „ ìƒíƒœ)

  : ëª¨ë“  í”„ë¡œì„¸ìŠ¤ê°€ ìì›ì„ ìš”ì²­í•˜ë”ë¼ë„ Deadlock ì—†ì´ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìƒíƒœ

    - ì‹œìŠ¤í…œì´ DeadLockì„ í”¼í•  ìˆ˜ ìˆë‹¤
    - ì•ˆì „í•œ ìì› í• ë‹¹ ìƒíƒœë¼ì„œ, ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ê°€ ìì›ì„ ë” ìš”ì²­í•˜ë”ë¼ë„ ê²°êµ­ì€ ëª¨ë‘ ì‘ì—…ì„ ë§ˆì¹˜ê³  ìì›ì„ ë°˜í™˜í•  ìˆ˜ ìˆìŒ
    - Unsafe State(ë¹„ì•ˆì „ ìƒíƒœ)
        - ì–¸ì œë“ ì§€ Deadlockì´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì ì¬ì ì¸ ìƒíƒœ
        - ê´€ë¦¬ ì•ˆí•˜ë©´ Deadlockì´ ìƒê¸¸ ìˆ˜ ìˆëŠ” ìœ„í—˜í•œ êµ¬ì—­
            - ìì›ì´ ë¶€ì¡±í•˜ê±°ë‚˜ í• ë‹¹ ìˆœì„œì— ë”°ë¼ ë°œìƒí•  ìˆ˜ë„ ìˆìŒ
    - Deadlock(êµì°© ìƒíƒœ)
        - ì‹¤ì œë¡œ Deadlockì´ ë°œìƒí•´ì„œ í”„ë¡œì„¸ìŠ¤ë“¤ì´ ìì›ì„ ì„œë¡œ ê¸°ë‹¤ë¦¬ë©° ë©ˆì¶°ë²„ë¦° ìƒíƒœ
        - Unsafe stateì˜ ë¶€ë¶„ ì§‘í•©
        - í”„ë¡œê·¸ë¨ì´ ë”ì´ìƒ ì§„í–‰ ë  ìˆ˜ ì—†ê³ , ì‹¤ì œë¡œ Deadlockì´ ë°œìƒí•œ ìƒíƒœ
    - Deadlock Detection and recovery
        - Deadlock ë°œìƒì€ í—ˆìš©í•˜ë˜ ê·¸ì— ëŒ€í•œ detection ë£¨í‹´ì„ ë‘ì–´ deadlock ë°œê²¬ì‹œ recover
    - Deadlock Ignorance
        - Deadlockì„ ì‹œìŠ¤í…œì´ ì±…ì„ì§€ì§€ ì•ŠìŒ
        - UNIXë¥¼ í¬í•¨í•œ ëŒ€ë¶€ë¶„ì˜ OSê°€ ì±„íƒ

### Avoidance Algorithms

| **ìì› ì¢…ë¥˜** | **ì‚¬ìš©í•˜ëŠ” ê¸°ë²•** |
| --- | --- |
| **ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤** (ìì› 1ê°œ) | **Resource Allocation Graph (ìì› í• ë‹¹ ê·¸ë˜í”„)** |
| **ë‹¤ì¤‘ ì¸ìŠ¤í„´ìŠ¤** (ìì› ì—¬ëŸ¬ ê°œ) | **Bankerâ€™s Algorithm (ì€í–‰ì› ì•Œê³ ë¦¬ì¦˜)** |
1. **Resource Allocation Graph (ìì› í• ë‹¹ ê·¸ë˜í”„)**

![0415-2](https://github.com/user-attachments/assets/7acd3f8d-282a-46f2-a62b-bcd002e7e33b)

- T1 â†’ R1 ìš”ì²­, R2 ì ìœ 
- T2 â†’ R3 ìš”ì²­, R1 ì ìœ 
- T3ì´ ê³„ì† ë©ˆì¶°ìˆë‹¤ë©´ T1, T2ê°€ ê³„ì† ê¸°ë‹¤ë¦¬ëŠ” Deadlock ìœ„í—˜ ìƒíƒœ


![0415-3](https://github.com/user-attachments/assets/a4c7e268-143c-4bdc-8cf4-ab4da3917cf4)



- ê·¸ë˜í”„ì— cycleì´ ì—†ìœ¼ë©´ deadlockì´ ì•„ë‹ˆë‹¤
- ê·¸ë˜í”„ì— cycleì´ ìˆìœ¼ë©´
    - ë¦¬ì†ŒìŠ¤ ìœ í˜•ë‹¹ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ìˆëŠ” ê²½ìš° ì‚¬ì´í´ì´ ë°œìƒí•´ë„ ë°ë“œë½ì´ ë°œìƒí•˜ì§€ ì•ŠìŒ
    - ë¦¬ì†ŒìŠ¤ ìœ í˜•ë³„ë¡œ ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ê°€ ìˆëŠ” ê²½ìš° Deadlock ê°€ëŠ¥ì„±(O)

2. **Bankerâ€™s Algorithm (ì€í–‰ì› ì•Œê³ ë¦¬ì¦˜)**

> ë‹¤ì¤‘ ì¸ìŠ¤í„´ìŠ¤ ìì›ì„ ê°€ì§„ ì‹œìŠ¤í…œì—ì„œ Deadlockì„ íšŒí”¼í•˜ê¸° ìœ„í•œ ìì› í• ë‹¹ ì‹œë®¬ë ˆì´ì…˜ ì•Œê³ ë¦¬ì¦˜
>
- Unsafe State ìƒíƒœ
- **â€œì§€ê¸ˆ ì´ ìì›ì„ í• ë‹¹í•´ì¤˜ë„ ì•ˆì „í•œ ìƒíƒœì¸ê°€?â€**
- ì€í–‰ì—ì„œ ëª¨ë“  ê³ ê°ì´ ë§Œì¡±í•˜ë„ë¡ í˜„ê¸ˆì„ í• ë‹¹í•˜ëŠ” ê³¼ì •ê³¼ ë™ì¼
    - ë‹¤ìˆ˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°–ëŠ” ê²½ìš°
    - ìì› í• ë‹¹ ê·¸ë˜í”„ ê¸°ë²•ë³´ë‹¤ ë‹¤ì†Œ íš¨ìœ¨ì„±ì´ ë–¨ì–´ì§

| ìš©ì–´        | ì˜ë¯¸                            |
|-------------|---------------------------------|
| **Max**     | ê° í”„ë¡œì„¸ìŠ¤ê°€ í•„ìš”í•œ ìµœëŒ€ ìì› ìˆ˜     |
| **Allocation** | í˜„ì¬ í• ë‹¹ëœ ìì› ìˆ˜                  |
| **Need = Max - Allocation** | ë‚¨ì€ í•„ìš” ìì›              |
| **Available** | í˜„ì¬ ì‹œìŠ¤í…œì— ë‚¨ì•„ ìˆëŠ” ìì› ìˆ˜       |


- ë°©ë²•
   - í”„ë¡œì„¸ìŠ¤ ì‹œì‘ ì‹œ ìì‹ ì´ í•„ìš”í•œ ê° ìì›ì˜ ìµœëŒ€ ê°œìˆ˜ë¥¼ ë¯¸ë¦¬ ì„ ì–¸
   - ê° í”„ë¡œì„¸ìŠ¤ê°€ ìì›ì„ ìš”ì²­í•˜ë©´
     - ìš”ì²­ ìˆ˜ë½ ì‹œ ì•ˆì • ìƒíƒœì— ë¨¸ë¬´ëŠ”ì§€ íŒë‹¨í•˜ì—¬ ìˆ˜ë½
     - ë¶ˆì•ˆì •ì´ ì˜ˆìƒë˜ë©´ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸°
- ë‹¨ì  : ê° í”„ë¡œì„¸ìŠ¤ê°€ ë¯¸ë¦¬ Maxë¥¼ ì„ ì–¸í•´ì•¼ í•˜ê¸°ì— ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ë°˜ì˜ë˜ê¸° ì–´ë µê³ , ë§¤ë²ˆ ì•ˆì „ì„± ê²€ì‚¬ë¥¼ í•´ì•¼ í•˜ë¯€ë¡œ ì„±ëŠ¥ ë¶€ë‹´ëœë‹¤

### **3. Deadlock Detection(íƒì§€)**

- êµì°©ìƒíƒœ ë°œìƒì„ í—ˆìš©í•˜ê³  ë°œìƒ ì‹œ ì›ì¸ì„ ê·œëª…í•˜ì—¬ í•´ê²°í•˜ëŠ” ë°©ë²•
- ì˜ˆì‹œ) ìì›í• ë‹¹ ê·¸ë˜í”„

### **4. Deadlock Recovery(íšŒë³µ)**

- êµì°©ìƒíƒœ ë°œê²¬ í›„ í™˜í˜•ëŒ€ê¸°ë¥¼ ë°°ì œì‹œí‚¤ê±°ë‚˜ ìì›ì„ ì¤‘ë‹¨í•˜ëŠ” ë©”ëª¨ë¦¬ í• ë‹¹ ê¸°ë²•
- ì˜ˆì‹œ) ì„ ì , í”„ë¡œì„¸ìŠ¤ ì¤‘ì§€ (í¬ìƒì ì„ íƒì˜ ì›ì¹™ : ìµœì†Œ ë¹„ìš©ìœ¼ë¡œ ì¤‘ì§€ì‹œí‚¤ëŠ” ë°©ë²•ì„ ì°¾ì•„ì•¼ í•¨)

### Race Condition VS Deadlock

- `Race Condition`: ë™ì‹œì— ì ‘ê·¼í•´ì„œ ê¼¬ì„ (ë°ì´í„° ì˜¤ë¥˜)
- `Deadlock` : ì„œë¡œ ê¸°ë‹¤ë¦¬ë‹¤ê°€ ë©ˆì¶¤ (í”„ë¡œê·¸ë¨ ë©ˆì¶¤)

| **êµ¬ë¶„** | **Race Condition (ê²½ìŸ ìƒíƒœ)** | **Deadlock (êµì°© ìƒíƒœ)** |
| --- | --- | --- |
| **ì •ì˜** | ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œê°€ **ê³µìœ  ìì›ì— ë™ì‹œì— ì ‘ê·¼**í•˜ë©´ì„œ ìˆœì„œì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” ë¬¸ì œ | í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œê°€ **ì„œë¡œ ìì›ì„ ì ìœ í•˜ê³  ëŒ€ê¸°**í•˜ë©´ì„œ ë¬´í•œíˆ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœ |
| **ì›ì¸** | ë™ê¸°í™” ë¶€ì¡±, Lock ì—†ì´ ê³µìœ  ìì› ì ‘ê·¼ | ìˆœí™˜ ëŒ€ê¸°, ì ìœ  ë° ëŒ€ê¸°, ë¹„ì„ ì  ë“± 4ê°€ì§€ ì¡°ê±´ ì¶©ì¡± ì‹œ ë°œìƒ |
| **ê²°ê³¼** | ì˜ëª»ëœ ê°’, ì˜ˆê¸°ì¹˜ ì•Šì€ ë™ì‘ (ex. ë°ì´í„° ì†ìƒ) | í”„ë¡œê·¸ë¨ì´ ë©ˆì¶¤ (ë¬´í•œ ëŒ€ê¸°, ì‹œìŠ¤í…œ ì •ì§€) |
| **ë°œìƒ ì‹œê¸°** | ì£¼ë¡œ ìì› **ì“°ê¸°/ì½ê¸° ë™ì‹œ ì ‘ê·¼ ì‹œ** | ì£¼ë¡œ **ì„œë¡œ ë‹¤ë¥¸ ìì›ì„ ì ìœ í•˜ê³  ëŒ€ê¸°í•  ë•Œ** |
| **ì˜ˆì‹œ** | ë‘ ìŠ¤ë ˆë“œê°€ í•˜ë‚˜ì˜ ê³„ì¢Œ ì”ì•¡ì„ ë™ì‹œì— ìˆ˜ì •í•´ì„œ ê°’ì´ ê¼¬ì´ëŠ” ê²½ìš° | í”„ë¡œì„¸ìŠ¤ AëŠ” í”„ë¦°í„°ë¥¼, BëŠ” íŒŒì¼ì„ ì ìœ í•˜ê³  ì„œë¡œ ìƒëŒ€ ìì›ì„ ìš”ì²­í•˜ë©° ë¬´í•œ ëŒ€ê¸° |
| **ë°©ì§€ ë°©ë²•** | ë½, ì›ìì  ì—°ì‚°, ë™ê¸°í™” | Deadlock ì˜ˆë°© ì•Œê³ ë¦¬ì¦˜, Lock ìˆœì„œ ì§€ì •, ìì› ì„ ì  ì •ì±… |
| **ë¬¸ì œ ì„±ê²©** | ë°ì´í„°ì˜ **ì¼ê´€ì„± ë¬¸ì œ** | í”„ë¡œê·¸ë¨ì˜ **ì§„í–‰ ë¶ˆê°€(ì •ì§€) ë¬¸ì œ** |

ğŸ“‚ **[ê°œë°œìê°€ ì•Œì•„ì•¼í•˜ëŠ” ì´ìœ ]**

- ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ
- ë°±ì—”ë“œ ì‹œìŠ¤í…œì˜ ë™ì‹œ ì²˜ë¦¬ í™˜ê²½ì—ì„œ lockì„ ê±¸ê²Œ ë  ë•Œ, ë½ì˜ ìˆœì„œë‚˜ í•´ì œ ì¡°ê±´ì´ ì˜ëª»ë˜ë©´ ì„œë¡œ ìì›ì„ ê¸°ë‹¤ë¦¬ë©´ì„œ ì˜ì›íˆ ë©ˆì¶”ëŠ” ìƒíƒœê°€ ë  ìˆ˜ ìˆë‹¤
- ê°œë°œìê°€ lockì„ ì‹ ì¤‘í•˜ê²Œ ë‹¤ë£¨ì§€ ì•ŠëŠ”ë‹¤ë©´ í”„ë¡œê·¸ë¨ì´ ë©ˆì¶”ê±°ë‚˜ ì‘ë‹µë˜ì§€ ì•ŠëŠ” ë²„ê·¸ê°€ ìƒê¸¸ ìˆ˜ ìˆìŒ

**ğŸ’¡Q.** **Deadlockì´ ë¬´ì—‡ì¸ì§€ ì„¤ëª…í•´ì£¼ì‹œê³  í•´ê²°í•  ìˆ˜ ìˆëŠ” ë°©ì•ˆì— ëŒ€í•´ ì•Œë ¤ì£¼ì„¸ìš”**

**A. Deadlockì´ë€** êµì°©ìƒíƒœë€ ëœ»ìœ¼ë¡œ ì„œë¡œ í•„ìš”í•œ ìì› ì‚¬ìš©ì„ ìœ„í•´ ìƒëŒ€ë°©ì˜ ì¢…ë£Œë¥¼ ê¸°ë‹¤ë¦¬ë©°, ë¬´í•œ ëŒ€ê¸°ì— ë¹ ì§€ëŠ” ìƒí™©ì…ë‹ˆë‹¤.  í•´ê²° ë°©ì•ˆì€ 4ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.

1. **ì˜ˆë°© (Prevention)**
- ê¸°ì¡´ Deadlockì´ í”„ë¡œì„¸ìŠ¤ë“¤ë¼ë¦¬ ìì› ì‚¬ìš©ì‹œ ì„œë¡œ ìƒí˜¸ ë°°ì œí•œë‹¨ ê²ƒì´ ë¬¸ì œê°€ ë˜ì—ˆìœ¼ë‹ˆ, ìì›ì„ ê³µìœ í•˜ê²Œ í•˜ì—¬ ëŒ€ê¸°ì— ë¹ ì§€ì§€ ì•Šë„ë¡ í•¨
- êµì°©ìƒíƒœì˜ í•„ìš”ì¡°ê±´ì„ ë¶€ì •í•¨ìœ¼ë¡œì¨ êµì°©ìƒíƒœê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ë¯¸ë¦¬ ì˜ˆë°©í•˜ëŠ” ë°©ë²•
- í™˜í˜• ëŒ€ê¸°, ë¹„ì„ ì , ì ìœ ì™€ ëŒ€ê¸°, ìƒí˜¸ ë°°ì œ 4ê°€ì§€ ë¶€ì •
2. **íšŒí”¼ (Avoidance)**
- í”„ë¡œì„¸ìŠ¤ì— ëŒ€í•œ êµì°© ìƒíƒœ ê°€ëŠ¥ì„±ì„ ë¯¸ë¦¬ íŒë‹¨í•˜ë©° ë°°ì œí•˜ì§€ ì•Šê³  ì ì ˆí•˜ê²Œ í”¼í•´ë‚˜ê°€ëŠ” ë°©ë²•
- ì˜ˆì‹œ)Â **ì€í–‰ì› ì•Œê³ ë¦¬ì¦˜**Â ì²˜ëŸ¼ ì‚¬ì „ì— í•„ìš”ë¡œ í•˜ëŠ” ìµœëŒ€ ìì›ì„ íŒŒì•…í•˜ì—¬ êµì°©ìƒíƒœë¥¼ ìµœëŒ€í•œ í”¼í•¨
3. **íƒì§€ (Detection)**
- êµì°©ìƒíƒœ ë°œìƒì„ í—ˆìš©í•˜ê³  ë°œìƒ ì‹œ ì›ì¸ì„ ê·œëª…í•˜ì—¬ í•´ê²°í•˜ëŠ” ë°©ë²•
- ì˜ˆì‹œ) ìì›í• ë‹¹ ê·¸ë˜í”„
4. **íšŒë³µ (Recovery)**
- êµì°©ìƒíƒœ ë°œê²¬ í›„ í™˜í˜•ëŒ€ê¸°ë¥¼ ë°°ì œì‹œí‚¤ê±°ë‚˜ ìì›ì„ ì¤‘ë‹¨í•˜ëŠ” ë©”ëª¨ë¦¬ í• ë‹¹ ê¸°ë²•
- ì˜ˆì‹œ) ì„ ì , í”„ë¡œì„¸ìŠ¤ ì¤‘ì§€ (í¬ìƒì ì„ íƒì˜ ì›ì¹™ : ìµœì†Œ ë¹„ìš©ìœ¼ë¡œ ì¤‘ì§€ì‹œí‚¤ëŠ” ë°©ë²•ì„ ì°¾ì•„ì•¼ í•¨)

**ğŸ’¡  Q. ë°ë“œë½(êµì°©ìƒíƒœ) ë°œìƒ ì¡°ê±´ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.**

A. ìƒí˜¸ë°°ì œ, ì ìœ ì™€ ëŒ€ê¸°, ë¹„ì„ ì í˜•, ì›í˜•ëŒ€ê¸°ì…ë‹ˆë‹¤.

**ğŸ’¡Â Q. ì€í–‰ì› ì•Œê³ ë¦¬ì¦˜ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”**

A. ë©€í‹°í”„ë¡œì„¸ìŠ¤ í™˜ê²½ì—ì„œ Deadlockì„ íšŒí”¼í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ìì› í• ë‹¹ ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤. ìì› ìš”ì²­ì´ ë“¤ì–´ì™”ì„ ë•Œ, ì§€ê¸ˆ ê·¸ ìš”ì²­ì„ ìˆ˜ë½í•´ë„ ëª¨ë“  í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œí•  ìˆ˜ ìˆëŠ” Safe Stateì¸ì§€ ì‹œë®¬ë ˆì´ì…˜í•´ì„œ íŒë‹¨í•©ë‹ˆë‹¤.

**ğŸ’¡Q. Race Conditionê³¼ Deadlockì˜ ì°¨ì´ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”**

A. Race Conditionì€ ì‹¤í–‰ ìˆœì„œì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” ë°ì´í„° ë¬¸ì œì´ê³ , Deadlockì€ ì„œë¡œ ìì›ì„ ê¸°ë‹¤ë¦¬ë©° ì§„í–‰ì´ ë©ˆì¶”ëŠ” ìƒíƒœ ë¬¸ì œì…ë‹ˆë‹¤.

### Semaphore(ì„¸ë§ˆí¬ì–´)

> ì†Œí”„íŠ¸ì›¨ì–´ìƒì—ì„œ Critical Section ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ë™ê¸°í™” ë„êµ¬
>

![0415-4](https://github.com/user-attachments/assets/6f216e2e-faa9-472f-89da-2b3576c8afbe)


- í•œë²ˆì— ì—¬ëŸ¬ ê°œì˜ ìŠ¤ë ˆë“œê°€ ê³µìœ  ìì›ì— ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ì¡°ì ˆí•˜ëŠ” ë™ê¸°í™” ê¸°êµ¬
    - ê³µìœ ëœ ìì›ì˜ ë°ì´í„°ëŠ” í•œë²ˆì— í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì œí•œì„ ë‘¬ì•¼ í•œë‹¤
- ê³µìœ  ìì›ì— ë™ì‹œì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ê°œìˆ˜ë¥¼ ì§€ì •
- ì„œë²„ ë™ì‹œ ì ‘ì† ìˆ˜ ì œí•œ
- pool ê¸°ë°˜ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ (ex. DB connection pool)
- **ê³µìœ  í”„ë¦°í„°**, **ë²„ìŠ¤ ì¢Œì„**, **ì£¼ì°¨ì¥** ê°™ì€ **ì œí•œëœ ìì› ê´€ë¦¬**

```java
import java.util.concurrent.Semaphore;

public class Example {
    public static void main(String[] args) {
        Semaphore semaphore = new Semaphore(3); // ìµœëŒ€ 3ê°œê¹Œì§€ ë™ì‹œì— ì ‘ê·¼ ê°€ëŠ¥

        for (int i = 0; i < 10; i++) {
            final int threadNum = i;
            new Thread(() -> {
                try {
                    semaphore.acquire(); // ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ”ì§€ í™•ì¸
                    System.out.println("Thread " + threadNum + " entered");
                    Thread.sleep(1000); // ìì› ì‚¬ìš© ì¤‘
                    System.out.println("Thread " + threadNum + " exiting");
                } catch (InterruptedException e) {
                    e.printStackTrace();
                } finally {
                    semaphore.release(); // ìì› ë°˜í™˜
                }
            }).start();
        }
    }
}
```

- 10ê°œ Thread ì¤‘ ë™ì‹œì— 3ê°œë§Œ ì‹¤í–‰ë˜ë„ë¡ ì œì–´í•´ì¤Œ

### ì„ê³„êµ¬ì—­(Critical Section)

> ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ë°ì´í„° ê³µìœ í•˜ë©° ìˆ˜í–‰ë  ë•Œ, ê° í”„ë¡œì„¸ìŠ¤ì—ì„œ ê³µìœ  ë°ì´í„°ë¥¼ ì ‘ê·¼í•˜ëŠ” í”„ë¡œê·¸ë¨ ì½”ë“œ ë¶€ë¶„
>

ê³µìœ  ë°ì´í„°ë¥¼ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‹œì— ì ‘ê·¼í•  ë•Œ ì˜ëª»ëœ ê²°ê³¼ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, í•œ í”„ë¡œì„¸ìŠ¤ê°€ ì„ê³„êµ¬ì—­ì„ ìˆ˜í–‰í•  ë•ŒëŠ” ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡ í•´ì•¼ í•œë‹¤.

### Mutext(ë®¤í…ìŠ¤)

> Critical Section(ì„ê³„ì˜ì—­)ì„ ê°€ì§„ Threadë“¤ì˜ Running timeê°„ ì„œë¡œ ê²¹ì¹˜ì§€ ì•Šê³  ë‹¨ë…ìœ¼ë¡œ ì‹¤í–‰ë˜ê²Œ í•˜ëŠ” ê¸°ìˆ 
>

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-04-15 á„‹á…©á„’á…® 10 02 41](https://github.com/user-attachments/assets/3eb99cae-c16d-4679-8e92-038f992d66ca)


- ìƒíƒœê°€ 0, 1ì—¬ì„œ ì´ì§„ ì„¸ë§ˆí¬ì–´ë¼ê³  ë¶€ë¥´ê¸°ë„ í•œë‹¤
- lock : í˜„ì¬ ì„ê³„ êµ¬ì—­ì— ë“¤ì–´ê°ˆ ê¶Œí•œì„ ì–»ì–´ì˜´
- unlock: í˜„ì¬ ì„ê³„ êµ¬ì—­ì„ ëª¨ë‘ ì‚¬ìš©í–ˆìŒì„ ì•Œë¦¼

### Mutex Algorithm

1. Dekker Algorithm(ë°ì»¤ ì•Œê³ ë¦¬ì¦˜)

> flagì™€ turn ë³€ìˆ˜ë¥¼ í†µí•´ ì„ê³„ êµ¬ì—­ì— ë“¤ì–´ê°ˆ í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œë¥¼ ê²°ì •í•˜ëŠ” ë°©ì‹
>
- flag : í”„ë¡œì„¸ìŠ¤ ì¤‘ ëˆ„ê°€ ì„ê³„ì˜ì—­ì— ì§„ì…í•  ê²ƒì¸ì§€ ë‚˜íƒ€ë‚´ëŠ” ë³€ìˆ˜
- turn : ëˆ„ê°€ ì„ê³„êµ¬ì—­ì— ë“¤ì–´ê°ˆ ì°¨ë¡€ì¸ì§€ ë‚˜íƒ€ë‚´ëŠ” ë³€ìˆ˜

```java
while(true) {
    flag[i] = true; // í”„ë¡œì„¸ìŠ¤ iê°€ ì„ê³„ êµ¬ì—­ ì§„ì… ì‹œë„
    while(flag[j]) { // í”„ë¡œì„¸ìŠ¤ jê°€ í˜„ì¬ ì„ê³„ êµ¬ì—­ì— ìˆëŠ”ì§€ í™•ì¸
        if(turn == j) { // jê°€ ì„ê³„ êµ¬ì—­ ì‚¬ìš© ì¤‘ì´ë©´
            flag[i] = false; // í”„ë¡œì„¸ìŠ¤ i ì§„ì… ì·¨ì†Œ
            while(turn == j); // turnì´ jì—ì„œ ë³€ê²½ë  ë•Œê¹Œì§€ ëŒ€ê¸°
            flag[i] = true; // j turnì´ ëë‚˜ë©´ ë‹¤ì‹œ ì§„ì… ì‹œë„
        }
    }
}

// ------- ì„ê³„ êµ¬ì—­ ---------

turn = j; // ì„ê³„ êµ¬ì—­ ì‚¬ìš© ëë‚˜ë©´ turnì„ ë„˜ê¹€
flag[i] = false; // flag ê°’ì„ falseë¡œ ë°”ê¿” ì„ê³„ êµ¬ì—­ ì‚¬ìš© ì™„ë£Œë¥¼ ì•Œë¦¼
```

2. Peterson Algorithm(í”¼í„°ìŠ¨ ì•Œê³ ë¦¬ì¦˜)

> Dekkerì™€ ìœ ì‚¬í•˜ì§€ë§Œ, ìƒëŒ€ë°© í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œì—ê²Œ ì§„ì… ê¸°íšŒë¥¼ ì–‘ë³´í•˜ëŠ” ê²ƒì— ì°¨ì´ê°€ ìˆìŒ
>

```java
while(true) {
    flag[i] = true; // í”„ë¡œì„¸ìŠ¤ iê°€ ì„ê³„ êµ¬ì—­ ì§„ì… ì‹œë„
    turn = j; // ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ì§„ì… ê¸°íšŒ ì–‘ë³´
    while(flag[j] && turn == j) { // ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ì§„ì… ì‹œë„í•˜ë©´ ëŒ€ê¸°
    }
}

// ------- ì„ê³„ êµ¬ì—­ ---------

flag[i] = false; // flag ê°’ì„ falseë¡œ ë°”ê¿” ì„ê³„ êµ¬ì—­ ì‚¬ìš© ì™„ë£Œë¥¼ ì•Œë¦¼
```

3. Bakery Algorithm(ì œê³¼ì  ì•Œê³ ë¦¬ì¦˜)

> ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œì— ëŒ€í•œ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•œ ì•Œê³ ë¦¬ì¦˜. ê°€ì¥ ì‘ì€ ë²ˆí˜¸í‘œë¥¼ ê°€ì§€ê³  ìˆëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì„ê³„ êµ¬ì—­ì— ì§„ì…í•œë‹¤.
>

```java
while(true) {
    
    isReady[i] = true; // ë²ˆí˜¸í‘œ ë°›ì„ ì¤€ë¹„
    number[i] = max(number[0~n-1]) + 1; // í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ ì¤‘ì— ê°€ì¥ í° ë²ˆí˜¸ ë°°ì • 
    isReady[i] = false; // ë²ˆí˜¸í‘œ ìˆ˜ë ¹ ì™„ë£Œ
    
    for(j = 0; j < n; j++) { // ëª¨ë“  í”„ë¡œì„¸ìŠ¤ ë²ˆí˜¸í‘œ ë¹„êµ
        while(isReady[j]); // ë¹„êµ í”„ë¡œì„¸ìŠ¤ê°€ ë²ˆí˜¸í‘œ ë°›ì„ ë•Œê¹Œì§€ ëŒ€ê¸°
        while(number[j] && number[j] < number[i] && j < i);
        
        // í”„ë¡œì„¸ìŠ¤ jê°€ ë²ˆí˜¸í‘œ ê°€ì§€ê³  ìˆì–´ì•¼ í•¨
        // í”„ë¡œì„¸ìŠ¤ jì˜ ë²ˆí˜¸í‘œ < í”„ë¡œì„¸ìŠ¤ iì˜ ë²ˆí˜¸í‘œ
    }

    // ------- ì„ê³„ êµ¬ì—­ ---------

    number[i] = 0; // ì„ê³„ êµ¬ì—­ ì‚¬ìš© ì¢…ë£Œ
}
```



ğŸ“‚ **[ê°œë°œìê°€ ì•Œì•„ì•¼í•˜ëŠ” ì´ìœ ]**

- í˜„ëŒ€ OSëŠ” Deadlockì„ ì²˜ë¦¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì‹¤ë¬´ì—ì„œëŠ” ê°œë°œìê°€ Deadlockì´ ë°œìƒí•˜ì§€ ì•Šë„ë¡ lock íšë“ ìˆœì„œë¥¼ ì •í•˜ê±°ë‚˜, timeout, retry, DB íŠ¸ëœì­ì…˜ ì„¤ê³„ ë“±ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²Œ ì¼ë°˜ì 
- ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì˜ synchronization(ë™ê¸°í™”)ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ëŒ€í‘œ ë„êµ¬ê°€ Semaphoreì™€ Mutex
- Critical Sectionì„ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•˜ê¸° ìœ„í•¨

**ğŸ’¡Â Q. ì´ì§„ ì„¸ë§ˆí¬ì–´ì™€ ë®¤í…ìŠ¤ì˜ ì°¨ì´ì— ëŒ€í•´ ì„¤ëª…í•´ ì£¼ì„¸ìš”**.

A. ì´ì§„ ì„¸ë§ˆí¬ì–´ëŠ” ê°’ì´ 0 or 1ì¸ ì„¸ë§ˆí¬ì–´ë¡œ **ìì›ì˜ ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ì œì–´**í•˜ë©°, **ì†Œìœ ê¶Œì´ ì—†ê³ ** ì–´ë–¤ ìŠ¤ë ˆë“œì¸ì§€ releaseí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°˜ë©´, ë®¤í…ìŠ¤ëŠ” lock()ì„ íšë“í•œ ìŠ¤ë ˆë“œë§Œ unlock()ìœ¼ë¡œ í•´ì œí•  ìˆ˜ ìˆëŠ” **ì†Œìœ ê¶Œ ê¸°ë°˜ ë™ê¸°í™” ê¸°êµ¬**ì´ë©°, ì„ê³„ êµ¬ì—­ì„ ë³´í˜¸í•˜ê¸° ìœ„í•´ ìŠ¤ë ˆë“œ ê°„ ìƒí˜¸ ë°°ì œë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.

**ğŸ’¡Â Q. ì™œ í˜„ëŒ€ OSëŠ” Deadlockì„ ì²˜ë¦¬í•˜ì§€ ì•Šì„ê¹Œìš”?**

A. Deadlock íšŒí”¼ ì•Œê³ ë¦¬ì¦˜ì´ ì„±ëŠ¥ì— í° ë¶€ë‹´ì„ ì£¼ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì˜ˆë¥¼ë“¤ì–´ ì€í–‰ì› ì•Œê³ ë¦¬ì¦˜ì²˜ëŸ¼ ìì› ìš”ì²­ë§ˆë‹¤ ì‹œìŠ¤í…œ ì „ì²´ ìƒíƒœë¥¼ ì‹œë®¬ë ˆì´ì…˜ í•˜ëŠ” ë°©ì‹ì€ ë§¤ìš° ë³µì¡í•˜ê³  ëŠë¦¬ë©° ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì‘í•´ì•¼ í•˜ëŠ” OSì— ì í•©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì‹¤ë¬´ì—ì„œëŠ” ê°œë°œìê°€ Deadlockì´ ë°œìƒí•˜ì§€ ì•Šë„ë¡ lock íšë“ ìˆœì„œë¥¼ ì •í•˜ê±°ë‚˜, timeout, retry, DB íŠ¸ëœì­ì…˜ ì„¤ê³„ ë“±ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²Œ ì¼ë°˜ì ì…ë‹ˆë‹¤.

**ğŸ’¡Â Q. Peterson's Algorithm ì´ ë¬´ì—‡ì´ë©°, í•œê³„ì ì— ëŒ€í•´ ì„¤ëª…í•´ ì£¼ì„¸ìš”.**
A. í”¼í„°ìŠ¨ ì•Œê³ ë¦¬ì¦˜ì´ë€ ë‘ í”„ë¡œì„¸ìŠ¤ ê°„ ì†Œí”„íŠ¸ì›¨ì–´ ë™ê¸°í™”ë¥¼ ìœ„í•œ ìƒí˜¸ ë°°ì œ ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤. ë‘ í”„ë¡œì„¸ìŠ¤ë§Œì„ ë™ê¸°í™” ê°€ëŠ¥í•œ ì•Œê³ ë¦¬ì¦˜ì´ê¸° ë•Œë¬¸ì— ë‹¤ì¤‘ í”„ë¡œì„¸ìŠ¤ í™˜ê²½ì—ì„œëŠ” êµ¬í˜„ì´ ë³µì¡í•´ì§€ê³  ì„±ëŠ¥ì´ ë–¨ì–´ì§‘ë‹ˆë‹¤. ë˜í•œ, ë©”ëª¨ë¦¬ ì¼ê´€ì„± ë¬¸ì œ, í™•ì¥ì„±, busy waiting í•œê³„ë¡œ ì¸í•´ ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
