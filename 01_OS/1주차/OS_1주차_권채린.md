# 1️⃣ 운영체제 개요 + 프로세스 & 스레드

스터디 날짜: 2025/03/26 (수)



<br>

- [1. 운영체제의 역할](#1-운영체제의-역할-프로세스-관리-메모리-관리-파일-시스템-등)
- [2. 커널(User Mode vs Kernel Mode)](#2-커널user-mode-vs-kernel-mode)
- [3. 프로세스 vs 스레드](#3-프로세스-vs-스레드-멀티-프로세스-멀티-스레드)
- [4. 컨텍스트 스위칭](#4-컨텍스트-스위칭)
---
<br>

## 1. 운영체제의 역할 (프로세스 관리, 메모리 관리, 파일 시스템 등)
<br>

**운영체제(Operating System)란?**

> 컴퓨터 하드웨어와 사용자(또는 프로그램) 사이를 중재하는 소프트웨어 계층
> 
<br>

### 1) 프로세스 관리(Process Management)

CPU를 어떤 프로세스에게 언제, 얼마나 할당할 지 결정

**📌 핵심 개념**

- **프로세스** : 실행 중인 프로그램
- **PCB**(Process Control Block) : 각 프로세스의 상태를 저장하는 자료구조
- **프로세스 상태** : New → Ready → Running → Waiting → Terminated
- **스케줄러** : 어떤 프로세스를 실행시킬지 결정
- **컨텍스트 스위칭** : 실행 중인 프로세스의 상태 저장 + 다음 프로세스 상태 복원

<br>
<br>

### 2) 메모리 관리(Memory Management)

여러 프로세스가 메모리를 효율적이고 안전하게 사용하는 것

**📌 핵심 개념**

- **가상 메모리**(Virtual Memory) : 실제 물리 메모리보다 큰 주소 공간을 제공하는 기술
- **주소 변환** : 가상 주소 → 물리 주소로 변환(Memory Management Unit이 처리)
- **페이징** : 메모리를 일정한 크기의 Page로 분할, 페이지 테이블을 통해 주소 변환
- **세그멘테이션** : 프로세스의 메모리(코드, 데이터, 스택 등)를 논리적으로 분리하여 관리하는 것
- **스와핑** : 메모리가 부족할 때 일부를 디스크로 옮기는 것

<br>
<br>

### 3) 파일 시스템

디스크에 데이터를 저장하고 읽고 쓸 수 있도록 구조화

**📌 핵심 개념**

- **파일** : 연속적인 바이트의 집합. 이름, 위치, 속성 등을 가짐
- **inode** : 파일의 메타데이터(파일 크기, 위치, 권한 등)를 저장하는 구조체
- **시스템 콜** : `open()`, `read()`, `write()`, `close()` 등으로 파일 접근

<br>
<br>

### 4) 입출력 관리

키보드, 마우스, 디스크, 프린터 등 다양한 장치와 통신을 관리

**📌 핵심 개념**

- **DMA**(Direct Memory Access) : 데이터를 CPU 거치지 않고 메모리에 직접 전송하는 방식
- **버퍼링** : 데이터를 모아 한번에 처리
- **캐싱** : 자주 쓰는 데이터를 메모리에 저장
- **스풀링** : 출력 장치 준비될 때까지 임시 저장
<br>
<br>
---
<br>
<br>

## 2. 커널(User Mode vs Kernel Mode)
<br>


<img src="https://github.com/user-attachments/assets/d680ff1b-669d-4719-a4e0-fb7fa3c16199" width="200"/>

<br>

**커널(Kernel)이란?**

> 커널은 운영체제의 핵심 부분으로, 하드웨어와 사용자 프로그램 사이를 중재하는 역할
> 

EX) 프로그램이 파일을 저장하거나 메모리를 쓰고 싶을 때, → 직접 파일에 접근하지 못하고 **커널**을 통해 요청
<br>
<br>

### ✅ User Mode vs Kernel Mode

운영체제는 안정성과 보안을 위해 CPU 모드를 두 가지로 나눠서 실행

<img src="https://github.com/user-attachments/assets/44c7569a-d9cf-4c2d-bf62-25285d1098a8" width="450"/>

<br>

**💨 유저 모드**

- 일반 사용자 프로그램을 실행
- 하드웨어에 직접 접근 불가능
- 시스템 콜을 통해 커널 모드로 진입
<br>
<br>

**💨 커널 모드**

- 모든 CPU 명령 실행 가능
- 모든 시스템 메모리 등 하드웨어에 직접 접근
- 작업 완료 후 다시 User Mode로 전환
<br>
<br>

**😈 인터럽트(Interrupt)**

- 시스템에서 발생한 다양한 종류의 이벤트 or 그런 이벤트를 알리는 메커니즘
- 인터럽트 신호가 들어오면 CPU를 잠깐 정지, 즉각적으로 인터럽트를 처리하기 위해 커널 코드를 커널 모드에서 실행
<br>
<br>
---
<br>
<br>

## 3. 프로세스 vs 스레드 (멀티 프로세스, 멀티 스레드)

<img src="https://github.com/user-attachments/assets/8ee529f0-a32e-4c4a-b0c9-c5fc06b423ba" />

<br>

### **✅ 프로세스(Process)란?**

- 실행 중인 프로그램
- OS가 자원을 할당하는 독립된 작업 단위
- 고유한 주소 공간, 코드, 데이터, 힙, 스택을 가짐
  
<br>
<br>

### **✅ 스레드(Thread)란?**

- 프로세스 내에서 실행되는 작업의 흐름 단위
- 같은 프로세스의 자원 중(코드, 데이터, 힙) 공유
- 독립적인 스택과 PC(Program Counter)를 가짐

  
<br>
<br>

### **✅ 프로세스 VS 스레드**

<img src="https://github.com/user-attachments/assets/d980216e-4ffe-44a6-9cd1-6ae064f2b423" width="600" />

<br>
<br>

### **✅ 멀티 프로세스(Multi-Process)란?**

- 여러 개의 프로세스를 **동시에 실행**
- 각 프로세스는 **독립적인 메모리** 사용

장점 : 프로세스 하나가 죽어도 다른 프로세스에 영향 없음

단점 : 메모리 사용량이 많고, 프로세스 간 통신(IPC) 복잡


<img src="https://github.com/user-attachments/assets/162df05e-5128-4d2f-97ef-29ee0c3ca581"  width="400"/>

<br>
<br>

### **✅ 멀티 스레드(Multi-Thread)란?**

- 하나의 프로세스 내에서 **여러 스레드를 동시에 실행**
- 스레드끼리 **메모리 공유** → **데이터 접근이 빠름**

장점 : 메모리 절약, 빠른 문맥 전환

단점 : 하나의 스레드 오류로 전체 프로세스에 영향 가능, 동기화 이슈 존재

<img src="https://github.com/user-attachments/assets/94410aaa-b191-4728-9f7a-7f7f488cbc32"  width="600"/>


<br>
<br>

### **✅** ❔**언제 멀티 프로세스/멀티 스레드를 쓰면 좋을까?**

<img src="https://github.com/user-attachments/assets/0c1c0dfd-3e47-4f82-bc32-49e609c52e1c" width="600"/>


<br>
<br>

---
<br>
<br>

## 4. 컨텍스트 스위칭
<br>

### 🔃 컨텍스트 스위칭(Context Switching)이란?

> CPU가 현재 실행 중인 프로세스(또는 스레드)의 **상태를 저장**하고, 다음에 실행할 프로세스의 **상태를 불러오는** 작업
> 
<br>
<br>

### 🔃 왜 필요할까?

- 운영체제는 **멀티태스킹**을 제공해야 함
- 하지만, **CPU는 한 번에 하나의 작업만 수행 가능**
    
    ⇒ 빠르게 작업을 바꿔 실행하여 동시에 여러 작업을 하는 것처럼 보이게 함.
<img src="https://github.com/user-attachments/assets/5d8496b5-c5d1-41e8-bec1-aac08a87fb15" width="400"/>


<br>
<br>

### 🔃 프로세스 컨텍스트 스위칭 VS 스레드 컨텍스트 스위칭


<img src="https://github.com/user-attachments/assets/d62d13b5-ddb2-4e52-8c49-5101508144f1" width="600" />

<br>
