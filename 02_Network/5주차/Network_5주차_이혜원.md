![image.png](attachment:bf454d51-9417-40c1-aa2f-1dfe943cab5e:image.png)

| **계층** | **주요 역할** | **대표 프로토콜** | **관련 장비** |
| --- | --- | --- | --- |
| **Physical** | 비트 전송 | X | 허브, 케이블 |
| **Data Link** | 오류 감지, MAC 주소 | Ethernet, PPP | 스위치 |
| **Network** | 경로 지정, IP주소 | IP, ICMP, ARP | 라우터 |
| **Transport** | 종단 간 통신 | TCP, UDP | - |
| **Session** | 연결 유지 | SSL/TLS | - |
| **Presentation** | 암호화, 압축 | JPEG, MPEG | - |
| **Application** | 사용자 서비스 | HTTP, FTP, DNS | - |

### OSI 7계층

📂 **[개발자가 알아야하는 이유]**

통신이 일어나는 과정을 단계별로 알 수 있고, 특정한 곳에 이상이 생기면 그 단계만 수정할 수 있기 때문에 알아야한다

- 서버에 요청 보냈는데 응답이 안올 경우 계층적으로 분석하면 빠르게 원인 파악할 수 있음
    - 7계층 : 요청 API 문제
    - 4계층 : TCP 연결 문제
    - 3계층 : IP라우팅 문제

- `User Mode` : 물리 계층. 데이터링크 계층, 네트워크 계층, 전송 계층
- `Kernel Mode` : 응용 계층, 표현 계층

- `S/W` : 네트워크 계층, 전송 계층, 응용 계층, 표현 계층
- `H/W` : 물리 계층. 데이터링크 계층

- 특징
    - 상하구조를 가진다
        - 상위 계층의 프로토콜이 제대로 작동하기 위해선 하위의 모든 계층에 문제가 없어야한다.
        - 예를들어, 물리적 회선 연결확인을 할 경우 데이터 전송 등 전자에 하자가 없을 때 후자가 동작
    - 문제 해결을 용이하게 도와줌
        - 상하구조를 갖는 특징을 살려 각 계층의 동작을 확인 할 수 있는 프로그램을 사용하여 계층의 동작을 확인하여 문제를 해결할 수 있다
        - 예를 들어, 인터넷이 안될 때 ping을 쏴서 확인해보면서 문제가 발생한 계층부터 확인

### Physical (물리 계층)

> 리피터, 케이블, 허브, 모뎀 등
>
- OSI 7계층 모델의 최하위 계층이며 하드웨어적인 요소를 관여하는 계층
- 데이터를 전기적, 광학적 신호로 변환하여 실제 물리적 매체(케이블 등)을 통해 비트 단위로 전송
    - 단위 : `BIT`
        - 0과 1로 나타내어지는 전기적 On/Off 상태
- 데이터를 전송하는 역할만 진행
    - 에러, 전송할 때의 효율성 등은 관여하지 않는다
    - 단순히 0과 1을 전기적 신호(High/Low 전압), 광학 신호, 무선파 등으로 바꾸는 역할
- 장비: 리피터(신호 증폭), 허브(신호 복제), 케이블(RJ-45, 광케이블 등), 모뎀(디지털 ↔ 아날로그 변환)
- 전송 방식: 단방향(Simplex), 반이중(Half-Duplex), 전이중(Full-Duplex)

### Data Link(데이터 링크)

> Ethernet, SLIP, PPP, FDDI
>
- OSI 7계층 중 2계층이며, 물리 계층에서 올라온 비트 스트림을 프레임 단위로 묶고, 에러 검출, 흐름 제어, `MAC 주소` 기반 통신을 담당하는 계층
- `네트워크 계층`으로부터 받은 데이터를 `프레임`으로 나누고,
- 물리 계층으로 수송되는 정보를 관리하여 안전하게 전달되도록 도와주는 역할
- 데이터가 물리적인 네트워크를 통해 신뢰성 있게 전송되도록 보장하는 계층
- 식별자 : MAC 주소가(Physical Address) NIC 랜카드를 식별
    - 48bit이며 보통 16진수로 표기
    - NIC(Network Interface Card)은 H/W이며 MAC주소를 갖는다
- 단위 : Frame
    - 프레임에 MAC 주소를 부여하고 에러검출, 재전송, 흐름제어를 진행

- **MAC 주소 (Media Access Control Address)**
    - NIC(네트워크 인터페이스 카드)에 **고유하게 부여된 6바이트(48비트)** 주소
    - 예: 00:1A:2B:3C:4D:5E
    - **물리적 주소**, 전 세계에서 유일한 주소
    - **출발지 MAC, 목적지 MAC** 주소를 프레임에 포함하여 통신
- **프레임 단위 (Frame)**
    - 데이터 링크 계층에서 사용하는 전송 단위
    - 헤더에 **MAC 주소, 에러검출 코드(FCS)** 등이 포함됨
- **BroadCast 통신**
    - 네트워크 상 **모든 장비에게** 데이터를 전송하는 방식
    - 목적지 MAC 주소를 FF:FF:FF:FF:FF:FF로 지정
- **ARP(Address Resolution Protocol)**
    - IP주소로 MAC주소를 알아내려 할 때 활용
    - 네트워크 계층과 데이터 링크 계층 사이에서 사용됨
    - 보통의 경우 PC를 부팅하면 Gateway의 MAC주소를 찾ㅌ아내기 위해 ARP Request가 발생하며 이에 대응하는 Reply로 MAC 주소를 알 수 있다.

### Network(네트워크)

> Internet, 라우터, IP
>
- 중계 라우터를 통한 라우팅을 포함하여 패킷 포워딩을 담당하는 계층이고, 송신지 호스트에서 여러 중간 노드를 거쳐 목적지 호스트까지 각 패킷의 전달에 대한 책임을 지고 전송
- 데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능을 담당
- 라우터를 통해 이동할 경로를 선택하여 IP주소를 지정하고, 해당 경로에 따라 패킷을 전달해준다
- 라우팅, 오류 제어, 세그먼테이션 등을 수행
    - 라우팅 : 여러 경로 중 최적의 경로 선택
    - 세그먼테이션 : 전송할 데이터를 적절한 크기로 나눔(MTU 초과 방지)
    - 에러 제어 : 전송 실패시 재요청은 하지 않지만 ICMP를 통해 오류 정보를 알림
- MTU(Maximum Transmission Unit): 한 번에 전송할 수 있는 최대 패킷 크기 (일반적으로 1500바이트)
- `IP Packet` 구조: IP Header(버전, TTL, 목적지 주소 등) + Payload
    - IPv4에서는 32bit이며, 10진수(8bit)씩 끊어 점으로 구분해 표기
- TTL(Time to Live): 패킷이 네트워크를 얼마나 오래 다닐 수 있는지 결정 (무한 루프 방지)
- ICMP: 오류 보고나 테스트(예: ping)에 사용

식별자 : host

단위 : `Packet`

- L3 IP packet, 최대 크기 MTU

| **항목** | **MAC 주소** | **IP 주소** |
| --- | --- | --- |
| **정의** | 네트워크 인터페이스에 부여된 고유 식별자 (하드웨어 주소) | 네트워크 상에서 논리적으로 할당된 식별자 (논리 주소) |
| **계층** | 데이터 링크 계층 (2계층) | 네트워크 계층 (3계층) |
| **형식** | 16진수 6쌍 (48비트) 00:1A:2B:3C:4D:5E | IPv4: 192.168.0.1 (32비트)IPv6: 2001:db8::1 (128비트) |
| **역할** | **같은 네트워크 내**에서 장치를 구별하는 역할 (LAN 통신) | **다른 네트워크 간** 라우팅에 사용되는 주소 |
| **변경 가능 여부** | 일반적으로 고정 (NIC에 내장), 일부 소프트웨어로 변경 가능 | 변경 가능 (수동 설정 또는 DHCP 할당) |
| **할당 주체** | 하드웨어 제조사 | 네트워크 관리자 또는 DHCP 서버 |
| **식별 대상** | 장치(인터페이스)를 식별 | 위치(주소)를 식별 |

### Transport(전송)

> TCP, UDP
>
- 네트워크 양 끝단에서 통신을 수행하는 당사자 간의 단대단 연결을 제공
- 데이터링크 계층과 유사하게 오류 제어, 흐름제어 등을 제공하는 면에서 비슷하다고 할 수 있지만 데이터링 계층은 물리적으로 1:1 연결된 호스트 사이의 전송을 의미하고 전송계층은 논리적으로(네트워크 상에서) 1:1 연결된 호스트 사이의 전송을 의미
- 각 응용 프로그램을 `포트 번호`로 식별하고 해당 애플리케이션으로 데이터를 전달
    - 포트번호 : 16bit 양의 정수
- 포트를 열어두고, 프로그램들이 전송할 수 있도록 제공
- TCP, UDP 프로토콜을 통해 통신을 활성화한다
    - TCP : 신뢰성, 연결지향적
    - UDP: 비신뢰성, 비연결성, 실시간

---

### Session(세션 계층)

> SSL (TLS), API, Socket
>
- 상위 계층에 제공하는 서비스로 세션 연결 설정과 해제, 세션 메시지 전송을 통해 동작한다.세션 계층은 크게 동기 기능과 대화 기능을 수행
- 데이터가 통신하기 위한 논리적 연결을 담당
    - 통신하는 두 시스템 간의 연결(세션)을 설정하고 유지 및 종료하는 역할
- TCP/IP 세션을 만들고 없애는 역할
- Session : 로그인 세션처럼 사용자의 상태나 정보를 일정 시간 동안 유지하는 데 사용되며, 클라이언트와 서버 간 지속적인 대화를 위한 상태 유지 기능을 포함

### Presentation

> JPEG, MPEG 등
>
- OSI 7계층의 최상위 계층으로, 사용자와 가장 가까운 계층이다
- 네트워크 상의 여러 이기종 시스템들이 저마다 다른 데이터 표현 방식을 사용하는데, 이를 하나의 통일된 구문형식으로 변환시키는 기능을 한다. 즉 네트워크의 데이터 번역자로서의 역할을 맡고있다.
- 데이터 표현에 대한 독립성을 제공하고 암호화하는 역할을 담당
- 파일 인코딩, 명령어를 포장, 압축 암호화한다
- 서로 다른 시스템 간 데이터 형식의 차이를 해결하기 위해 존재하며, 전송 중 데이터가 올바르게 해석될 수 있도록 표준화된 형식으로 변환해줌

### Application

> HTTP, FPT, DNS 등
>
- 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행
- 사용자 인터페이스, 전자 우편, 데이터베이스 관리 등의 서비스를 제공
- 실제로 우리가 웹사이트를 열거나 이메일을 보내는 등의 애플리케이션 동작과 연결되어 있는 계층

**💡 Q. IP 주소와 MAC 주소의 차이에 대해 설명해 주세요.**

- IP주소는 네트워크 상에서 장치의 위치를 식별하기 위한 논리적 주소이고, MAC 주소는 같은 네트워크 안에서 장비를 식별할 때 사용되는 물리적 주소입니다.

**💡 Q. Transport Layer와, Network Layer의 차이에 대해 설명해 주세요.**

- Transport Layer은 종단간 데이터 전송을 담당하고 Network Layer은 경로 설정과 전달을 담당합니다. Transport Layer는 TCP/UDP를 통해 데이터의 신뢰성과 순서를 보장하고, Network Layer은 IP를 통해 목적지까지 패킷을 전달합니다.

**💡 Q. L3 Switch와 Router의 차이에 대해 설명해 주세요.**

- L3 Switch는 고속 내부 네트워크 라우팅에 특화되어 있고, Router는 서로 다르네트워크 간 연결과 외부망 연결에 적합합니다. 기능적으로 둘다 IP 기반 라우팅이 가능하지만, L3 Switch는 속도 중심, Router는 다양한 네트워크 연결과 보안 중심으로 사용****