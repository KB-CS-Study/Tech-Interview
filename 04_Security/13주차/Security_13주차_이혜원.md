## 보안 기본 개념

### 1. 기밀성·무결성·가용성 (CIA)

정보보안의 3요소로는 기밀성, 무결성, 가용성이 있다.

- 기밀성(Confidentiality) : 인가된 사용자만 정보에 접근할 수 있도록 한다
    - 방화벽, 암호화 기술 등이 사용된다
- 무결성(Integrity) : 정보가 인가된 사용자에 의해서만 변경될 수 있도록 보장한다
- 가용성(Availability) : 정보 자산에 언제든지 접근 가능하도록 보장한다

### 2. 인증(Authentication)과 인가(Authorization)

- 인증(Authentication) : 사용자의 신원을 확인하는 과정
    - 사용자가 제공한 정보를 확인하여 접근 권한을 검증하는 보안 절차
    - 주로 로그인 시 사용자 신원을 확인하는 과정
    - 인증 유형


        | 유형 | 설명 |
        | --- | --- |
        | 지식 기반 인증 | 사용자가 기억하고 있는 정보를 이용한다(예: 아이디, 비밀번호) |
        | 소유 기반 인증 | 사용자가 소유한 물건을 이용한다(예: OTP, 신분증) |
        | 생체 기반 인증 | 사용자의 신체적 또는 행동적 특징을 이용한다 (예:지문, 홍채, 얼굴 인식) |
        | 행위 기반 인증 | 사용자의 행동 정보를 이용한다 (예 : 서명, 동작 패턴) |
        | 위치 기반 인증 | 인증을 시도하는 위치를 이용한다. (예: GPS 위치, IP 주소) |
    - 인증 방식 : 계정 정보를 요청 헤더에 넣는 방식, Cookie/Session 방식, 토큰 기반 인증 방식(JWT, JSON Web Token), Oauth, SSO, 커버로스, 아이핀
- 인가(Authorization)
    - 인증된 사용자에게 특정 권한을 부여하는 과정
    - 사용자의 권한에 따라 접근할 수 있는 리소스나 기능이 제한

### 3. 해시(Hash)

> 고정된 크기로 값을 바꾸는 함수나 알고리즘
>
- 그 결과 만들어진 값을 해시 코드(hash code) 혹은 해시 값(hash value)이라고 부릅니다.
- 장점 : 검색과 저장이 아주 빠르게 진행
    - key값이 배열의 인덱스로 변환되기 때문에 검색 저장의 평균적인 시간 복잡도가 O(1)에 수렴

### 4. 대칭/비대칭 키 암호화 (AES, RSA)

1. **대칭키**
- 암/복호화에 사용하는 키가 동일
- 장점 : 암호화 방식에 속도가 빠르며, 대용량 Data 암호화에 적합
- 단점 : 키를 교환해야 하는 문제 때문에 탈취 관리 우려
    - 사람이 증가할수록 키 관리가 어려워지며 확장성이 떨어진다
- 기밀성을 제공하나, 무결성/인증/부인 방지를 보장하지 않음
- 대표적 알고리즘 : SEED(공인 인증서 암호 방식으로 유명), DES, 3DES, `AES`, ARIA, ChaCha20
1. **비대칭 키(=공개키 암호화 방식)**
- 암/복호화에 사용하는 키가 다름
- 장점 : 키 분배가 필요없어서 → 기밀성/인증/부인방지 기능 제공
- 단점 : 속도가 느림
- 방식
    - 암호 모드 : 송신자 공개키로 암호화 → 송신자 사설키로 복호화
        - 소량의 메세지 암호화 목적, 주로 키 교환의 용도로 사용
    - 인증 모드 : 송신자 사설키로 암호화 → 송신자 공개키로 복호화 메세지를 인증(부인방지) 하는 것이 목적
- 대표적인 알고리즘 : Diffie Hellman, `RSA`, DSA, ECC

1. AES(대칭키)
- 수학적 방법을 사용하여 암호문을 생성
- DES를 대체하기 위해 채택되었으며, 암호화 블록이 128Bit, 암호화 키 길이가 128, 192, 256bit

1. RSA(비대칭키)
- 최초로 전자 서명이 가능한 알고리즘
- 비대칭 구조로 인해 **키 교환의 보안성**이 뛰어남.
- 메시지 인증 및 데이터 무결성 검증에 유용(디지털 서명).
- 공개 키를 이용한 신뢰할 수 있는 키 분배
- 실무에서 사용
    1. **TLS/SSL**:
        - 웹 브라우저와 서버 간 안전한 연결을 설정할 때 RSA로 키 교환 수행.
    2. **디지털 서명**:
        - 데이터의 진위와 무결성을 확인하는 데 사용.
    3. **파일 암호화**:
        - RSA로 대칭 키(AES 등)를 암호화한 뒤, 대칭 키로 실제 데이터를 암호화

### 5. 전자서명(Digital Signature)

디지털 메세지나 문서의 진위성, 무결성, 부인방지를 보장하는 디지털 코드

- 특징
    - 진위성 : 문서의 출처와 서명자의 신원을 확인할 수 있음
    - 무결성 : 서명 이후 문서가 변경되지 않았음을 보장
    - 부인방지 : 서명자가 나중에 서명 사실을 부인할 수 없음
    - 디지털 증거 : 법적 효력이 있는 증거로 사용될 수 있다
- 일반 서명과 전자 서명의 차이점


    | 특성 | 일반 서명 | 전자서명 |
    | --- | --- | --- |
    | 형태 | 물리적 표시 | 디지털 코드 |
    | 검증 방법 | 육안 비교 | 암호학적 검증 |
    | 복제 난이도 | 쉬움 | 매우 어려움 |
    | 변경 감지 | 어려움 | 자동 감지 |
    | 유효성 | 서명자의 신체적 특성에 의존 | 암호 알고리즘과 키에 의존 |
- 생성 과정
    1. 해시 생성 : 원본 문서의 해시값(고정된 길이의 디지털 지문)을 계산
    2. 암호화 : 이 해시값을 서명자의 개인키로 암호화
    3. 서명 첨부 : 암호화된 해시값(전자서명)을 원본 문서에 첨부

## 네트워크 보안

### 1. HTTPS 동작 원리

- HTTP와 HTTPS의 차이점 : `SSL 인증서`
    - SSL 인증서
        - 클라이언트 서버 간의 통신을 공인된 제 3자 업체(CA)가 보증해주는 전자화된 문서
        - 사용자가 사이트에서 제공하는 정보를 암호화
        - 암호화되어 전송되는 데이터는 중간에 누가 훔쳐가거나 조작하려해도 암호화되어 있어서 해독할 수 없음
- HTTPS의 원리 : 공개키 알고리즘
    - 공개키 알고리즘 : 암호화, 복호화 시킬 수 있는 서로 다른 키(공개키, 개인키)를 이용한 암호화 방식
    - 공개키 알고리즘의 단점 : 처리 속도 느린 문제 해결 방법
        - 실제 전송되는 데이터 암호화에는 대칭키 암호화 방식을 사용하고,
        - 키 교환에서는 공개키(비대칭키) 암호화를 사용하여 해결하고 있다
- **HTTPS 암호화 흐름**
    1. 클라이언트가 서버에게 **SSL 인증서**를 요청
    2. 서버는 인증서를 제공 (공개키 포함)
    3. 클라이언트는 인증서의 유효성 검증 (신뢰된 CA인지, 만료 여부 등)
    4. 클라이언트가 생성한 **대칭키**를 서버의 공개키로 암호화하여 전송
    5. 서버는 자신의 **개인키**로 대칭키를 복호화
    6. 이후 통신은 **대칭키**를 사용하여 암호화

### 2. TLS 핸드셰이크

- TLS(Transport Layer Security)
    - 전송 계층 보안을 제공하는 프로토콜로, SSL의 후속 버전
    - 데이터의 기밀성(Confidentiality)과 무결성(Integrity)을 제공
- 핸드셰이크 과정(TLS 1.2 기준)
    1. **Client Hello**: 클라이언트가 서버에 지원하는 암호화 방식, 난수(Random), TLS 버전 등을 전송
    2. **Server Hello**: 서버가 선택한 암호화 방식, 인증서(공개키 포함), 난수 전송
    3. 클라이언트는 서버의 인증서를 검증하고, **Pre-Master Secret(대칭키)** 를 서버 공개키로 암호화해 전송
    4. 서버는 개인키로 이를 복호화하고 세션키 생성
    5. 클라이언트와 서버 모두 같은 세션키를 공유하게 되며, 이후 대칭키 방식으로 데이터 암호화 통신
- TLS의 보안성 요소
    - 기밀성 (Confidentiality)
    - 무결성 (Integrity)
    - 인증 (Authentication)

### 3. 인증서 구조

- X.509 인증서 구조 (주요 항목)
    - **Subject**: 인증서 소유자 정보 (도메인 등)
    - **Issuer**: 발급자 (CA)
    - **Public Key**: 공개키 정보
    - **Signature**: CA가 서명한 전자서명
    - **Validity**: 유효 기간
    - **Serial Number**: 고유 일련번호

### 4. SSL Strip

- **SSL Strip 공격**
    - 사용자가 https://로 접속했더라도, 중간자(MitM)가 이를 http://로 변환
    - 사용자는 이를 눈치채지 못한 채 민감한 정보를 평문(암호화되지 않은 상태)으로 입력하게 됨
    - 공격자는 해당 정보를 쉽게 수집 가능
- **방어 방법**
    - HSTS(HTTP Strict Transport Security) 설정으로 HTTPS 강제 적용
    - 사용자가 브라우저 주소창의 자물쇠 아이콘 확인

### 5. DNS Spoofing

- **DNS Spoofing이란?**
    - DNS 응답을 조작하여 사용자를 **가짜 웹사이트**로 유도하는 공격
    - 예: www.google.com을 입력했는데 hacker.com으로 연결됨
- **공격 방식**
    - 공격자가 DNS 응답을 조작하여 피해자의 로컬 DNS 캐시에 잘못된 IP를 저장
    - 이후 피해자가 동일 주소를 요청하면 조작된 IP로 접속됨
- **대응 방법**
    - DNSSEC(DNS Security Extensions) 사용
    - HTTPS 기반 접속과 인증서 유효성 확인

### 6. Man-in-the-Middle 공격

- **정의**
    - 공격자가 사용자와 서버 사이에 몰래 개입하여 **통신 내용을 감청**, 조작하는 공격
    - 사용자는 자신의 정보가 탈취되는지 인지하지 못함
- **공격 예시**
    - 이메일/메신저 중간에 공격자가 침입하여 메시지 내용을 열람
    - Wi-Fi 공유기 등을 통한 공공장소에서의 감청
- **진화된 MitM 공격**
    - 공격자가 생성한 **가짜 인증서** 또는 **악성 봇**을 활용
    - 예: 사람의 목소리를 흉내 내는 봇, 문자메시지 사칭
- **방어 방법**
    - SSL/TLS 강제 적용 (HTTPS)
    - VPN 사용
    - 인증서 유효성 철저히 검증