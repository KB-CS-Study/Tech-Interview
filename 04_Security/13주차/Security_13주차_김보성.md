## **✅ 보안 기본 개념**

### **기밀성(Confidentiality), 무결성(Integrity), 가용성(Availability)**

### **CIA 3원칙**

- **기밀성 (Confidentiality)**
    - 인가되지 않은 사용자가 데이터에 접근하지 못하도록 보호
    - 암호화(Encryption), 접근 제어, 인증 등이 해당됨
- **무결성 (Integrity)**
    - 데이터가 변조되지 않도록 보장
    - 해시 함수, 디지털 서명, 체크섬 등을 활용
- **가용성 (Availability)**
    - 정당한 사용자가 원하는 정보를 **언제든 접근 가능**하게 보장
    - DDoS 방어, 이중화, 장애 복구 등의 기술이 해당됨

### **인증(Authentication) vs 인가(Authorization)**

- **인증(Authentication)**
    
    누구인지 확인하는 과정
    
    → 사용자 또는 시스템의 **신원을 확인**
    
    **예시**
    
    - ID + 비밀번호 입력
    - OTP(일회용 인증번호)
    - 생체 인증 (지문, 얼굴)
    - 소셜 로그인 (Google, Kakao 등)
    
    어떤 방식으로 유지하는가
    
    - 서버는 사용자의 정보를 저장하고 있음
    - 사용자가 로그인 시도 → 입력된 정보가 저장된 정보와 **일치하는지 검증**
    - 성공 시 사용자에게 세션이나 토큰(JWT 등)을 발급
    
- **인가(Authorization)**
    
    무엇을 할 수 있는지 결정하는 권한 부여
    
    → 인증된 사용자가 **요청한 리소스나 기능을 사용할 수 있는지 판단**
    
    **예시**
    
    - 일반 사용자 → 자기 프로필만 열람 가능
    - 관리자 → 모든 유저 목록 조회 가능
    - 게시물 작성자는 본인 글만 수정 가능
    
    **어떻게 이루어짐?**
    
    - 클라이언트가 보낸 토큰에 있는 권한 정보(roles, scopes)를 확인
    - 서버는 사용자의 역할(ROLE_USER, ROLE_ADMIN)에 따라 요청 허용/거부

### **해시 함수 (Hash Function)**

![image.png](attachment:68a60d0c-780a-408d-a609-b6b62a33513f:image.png)

- 입력값 → 고정된 길이의 **암호화된 값**(해시값)으로 변환
- 특징: 단방향성, 충돌 회피, 고정 길이 출력
- 대표 알고리즘: **SHA-256**, SHA-1, MD5 등
- **사용 예시**: 비밀번호 저장 시 원문을 저장하지 않고 해시값으로만 저장

### **대칭 키 암호화 vs 비대칭 키 암호화**

- **대칭 키 암호화 (Symmetric: AES 등)**
    - 암호화/복호화에 **같은 키 사용**
    - 속도 빠름 → 실시간 통신에 사용
    - 단점: 키 공유 필요 (유출 위험)
- **비대칭 키 암호화 (Asymmetric: RSA 등)**
    - 공개키(Public Key)와 개인키(Private Key) 쌍 사용
    - A가 B에게 메시지를 보낼 때 → B의 공개키로 암호화, B는 **자신의 개인키**로 복호화
    - 보안성 높음, 속도는 느림

### **전자서명 (Digital Signature)**

- **송신자의 개인키로 암호화한 해시값**
- 수신자는 **공개키로 복호화 후 해시값 비교** → 위조 여부 검증
- 목적: **무결성 + 인증 + 부인방지**

## **✅ 네트워크 보안**

### **HTTPS 동작 원리**

1. 클라이언트가 서버에게 **HTTPS 요청**
2. 서버가 **SSL 인증서** 전송
3. 클라이언트는 인증서의 유효성을 검증 (신뢰기관, 도메인 등)
4. 클라이언트는 대칭키를 생성하여 **서버의 공개키로 암호화해 전송**
5. 서버는 자신의 **개인키로 대칭키 복호화**
6. 이후부터는 **대칭키 기반 통신** 진행 (속도 빠름 + 안전함)

### **TLS 핸드셰이크**

- TLS(Transport Layer Security)에서 클라이언트-서버 간 **보안 연결을 설정하는 과정**
- 클라이언트 Hello → 서버 Hello → 인증서 전달 → 키 교환 → 세션 키 공유
- 암호화 방식 협의, 인증서 검증, 키 생성 및 공유 과정 포함

### **인증서 구조**

- X.509 포맷 기반
- 포함 정보:
    - 소유자 정보 (도메인 등)
    - 공개키
    - 발급자 (CA, 인증 기관)
    - 유효 기간
    - 서명 (발급자의 전자서명)

### **SSL Strip**

- 사용자가 **HTTP로 접속하도록 유도**하여 중간자가 암호화 연결을 **평문으로 탈취**하는 공격
- 보통 악성 Wi-Fi 환경에서 발생
- 대응: HSTS(HTTP Strict Transport Security) 설정으로 강제 HTTPS 사용

### **DNS Spoofing**

- DNS 서버를 위조하거나 응답을 변조해 **사용자가 가짜 사이트에 접속**하게 만드는 공격
- 대응:
    - DNSSEC 사용
    - 신뢰된 DNS 서버 이용
    - HTTPS 사용 (위조된 서버는 인증서가 없음)

### **Man-in-the-Middle (MITM)**

- **중간자 공격**: 클라이언트와 서버 사이에 공격자가 끼어들어 **데이터를 탈취, 조작**
- 예: 공공 와이파이에서 사용자의 로그인 정보 가로채기
- 대응:
    - HTTPS 강제 사용
    - 인증서 유효성 검사 철저히
    - VPN 사용