- 보안 기본 개념
    - 기밀성·무결성·가용성 (CIA), 인증(Authentication)과 인가(Authorization), 해시(Hash), 대칭/비대칭 키 암호화 (AES, RSA), 전자서명
- 네트워크 보안
    - HTTPS 동작 원리, TLS 핸드셰이크, 인증서 구조, SSL Strip, DNS Spoofing, Man-in-the-Middle 공격

# 보안 기본 개념

## 기밀성 무결성 가용성

## 정보 보안의 3요소

기밀성

### **개념**

기밀성은 정보가 인가된 사용자나 시스템만이 접근할 수 있어야 함을 의미한다.

이는 정보가 무단으로 공개되거나 유출되는 것을 방지하는 것을 의미한다.

### **목표**

기밀성의 목표는 민감한 정보의 노출을 방지하고, 인가되지 않은 엑세스로부터 데이터를 보호하는 것이다.

### **보안 메커니즘**

암호화, 엑세스 제어, 인증 및 인가 메커니즘, 물리적 보안 등이 사용된다.

---

### 무결성

### **개념**

무결성은 정보가 인가된 방법으로만 수정되거나 변경되지 않아야 함을 의미한다.

데이터가 손상되거나 조작되지 않아야 한다.

### **목표**

정보의 정확성과 신뢰성을 보장하고, 데이터의 무결성을 유지하는 것이다.

### **보안 메커니즘**

해시 함수, 디지털 서명, 버전 관리 시스템 등의 메커니즘이 사용된다.

---

### 가용성

### **개념**

가용성은 정보나 시스템이 필요한 시간에 접근 가능하고 사용 가능해야 함을 의미한다.

### **목표**

시스템의 정상적인 작동을 보장하고, 서비스 거부 공격 등으로부터 시스템을 보호하여 사용자가 원하는 시간에 서비스를 이용할 수 있도록 하는 것이다.

### **보안 메커니즘**

이중화, 재해 복구 계획, 네트워크 로드 밸런싱, 백업 및 복구 시스템 등의 메커니즘이 사용다.

## 인증과 인가

1. 인증이란?
    
    유저가 누구인지 확인하는 절차, 회원가입하고 로그인 하는 것. 
    
    네이버 카페나 포털 사이트를 예로들자면, 게시물을 읽으려고 포스팅 목록을 눌렀을때 '로그인이 필요합니다' 경고창과 함께 로그인 인증이 요구된다면인증(Autentication) 되지 않은 상황이다.서버 입장에서는 현재 요청자가 카페 회원인지 누군지 몰라서 일어나는 상황이다
    
2. 인가란?
    
    유저에 대한 권한을 허락하는 것. 
    그래서 회원 가입 하고 로그인을 하고 게시물에 들어갈수 있게 되었는데, 이번엔 어느 특정 게시판에 있는 게시글을 읽으려고 하니 '스탭 등급 부터 읽을 수 있습니다' 라는 경고창이 뜬다면승인(Authorization) 되지 않은 상황이다.즉,인증되었다고 하더라도,승인되지 않았다면 특정 리소스에 접근할 수 없다는 원리이다.서버 입장에서는 현재 요청자가 회원가입을 했으니 누군지는 알지만, 회원 등급에 따라 사용자는 요청한 자원에 접근한 권한이 없다고 판단하여 차단 한 것이다.
    
- 누가, 언제, 어떻게 쓰고 있는가를 파악하기 위해 어떤 사이트에서든 인증, 인가가 있음.
- 인증과 인가는 API에서 가장 자주 구현되는 기능중 하나.
- Private한 API는 물론이고 Public한 API도 기본적인 인증과 인가를 요구.

---

## 해시

## 1. Hash 암호화란?

Hash 암호화는 원본 데이터를 고정된 길이의 다른 데이터로 변환하는 방식이다.

이는 단방향 암호화 방식으로, 일단 데이터가 Hash 암호화되면 원본 데이터로 복호화할 수 없다.

## 2. Hash 암호화의 특징

- **단방향성**: 원본 데이터를 암호화한 후에는 복호화를 통해 원본 데이터로 돌아갈 수 없다. 이는 비밀번호와 같이 복호화할 필요가 없는 데이터에 주로 사용된다.
- **고정된 길이**: 원본 데이터의 길이와 상관없이 Hash 암호화된 데이터의 길이는 항상 고정된다.
- **유일성**: 같은 원본 데이터는 항상 같은 Hash 암호화된 데이터를 생성한다. 하지만, 아주 미세한 차이라도 완전히 다른 Hash 암호화된 데이터를 생성한다.

## 3. Hash 암호화의 활용 사례

Hash 암호화는 주로 비밀번호를 보안하는 데 사용된다. 사용자가 비밀번호를 입력하면, 이를 Hash 암호화하여 데이터베이스에 저장한다. 이후 사용자가 로그인을 시도할 때, 입력한 비밀번호를 다시 Hash 암호화하여 데이터베이스에 저장된 값과 비교한다.

## 4. Hash 암호화의 장점과 단점

### **장점**

- **보안성**: 실제 비밀번호가 아닌 Hash 암호화된 값을 저장하므로, 비밀번호가 유출되더라도 사용자의 정보를 보호할 수 있다.
- **개인정보 보호**: 각 사용자의 비밀번호를 비교할 수 없으므로 개인정보 보호에 도움이 된다.

### **단점**

- **해시 충돌**: 두 개의 다른 입력 값이 같은 해시 값을 생성하는 경우가 있다. 이를 해시 충돌이라고 하며, 이로 인해 보안 문제가 발생할 수 있다.
- **레인보우 테이블 공격**: 해시 함수의 결정성으로 인해 레인보우 테이블이라는 사전 계산된 해시 테이블을 사용하여 암호를 추측하는 공격이 가능하다.

## 5. Hash 암호화의 보안 강화 방법

Hash 암호화를 보다 안전하게 사용하려면, 다음의 사항들을 고려해야 한다.

- **적절한 Hash 함수 선택**: 보안 수준에 따라 적절한 Hash 함수를 선택해야 한다.예를 들어, SHA-256은 해시 충돌의 위험이 적어 보안 수준이 높은 편이다.
- **솔트(Salt) 추가**: 동일한 비밀번호가 항상 동일한 해시 값을 생성하는 것을 방지하기 위해, 비밀번호에 임의의 문자열(솔트)을 추가할 수 있다. 이는 레인보우 테이블 공격 등을 방어하는 데 도움이 된다.

---

## 대칭/비대칭 키 암호화

평문을 암호화하고 복호화하는 경우 키를 사용할 수 있는데요. 이때, 암복호화에 사용하는 키가 동일한 경우 **대칭키 암호화(Symmetric Key Cryptography)** 라고 하며, 암복호화에 사용하는 키가 서로 다른 경우를 **비대칭키 암호화 혹은 공개키 암호화(Asymmetric Key Cryptography)** 라고 합니다.

대칭키 암호화는 비대칭키 암호화에 비해서 속도가 빠르다고 알려져 있습니다. 하지만, 대칭키를 교환하는 과정에서 탈취 위험성이 존재할 수 있습니다. 또한, 대칭키 암호화 방식에서는 각 통신 참여자 쌍마다 다른 키가 필요할 수 있는데요. 이 경우 통신 대상이 많아질수록 대칭키의 수가 많아지므로 키 관리가 복잡해질 수 있습니다.

비대칭키 암호화에는 공개키와 개인키가 존재합니다. 일반적으로 이 방식에서 송신자는 수신자의 공개키를 이용해 암호화를 수행하고, 암호화된 데이터는 수신자에게 전달됩니다. 수신자에게 전달된 이후, 수신자는 개인키를 사용해 복호화를 수행합니다. 이 방식은 대칭키 암호화 방식에서 발생하는 키 교환 문제를 해결하지만, 상대적으로 대칭키 암호화에 비해 느린 것이 단점입니다.

## 전자서명

### 개념과 효력

- 메시지를 보낸 사람의 신원이 진짜임을 증명
- 전달된 메시지의 원래 내용이 변조되지 않았음을 보증
- 수기서명과 동일한 효력을 가짐
- 메시지의 암호화 여부와 관계없이 사용됨

### 전자서명의 장점

- 쉽게 전송가능(작은 비트수)
- 쉽게 부인할 수 없음(부인방지를 위한 검증 가능)
- 타인이 흉내낼 수 없음
- 타임스탬프가 유지됨

### 인증서

- CA의 전자서명이 담겨 있음
- 이를 통해 인증서의 진위를 판별가능

### 전자서명의 요구조건

- 서명은 원문 메시지에 의존하는 비트 패턴
- 송신자만의 고유정보를 사용해야 함
- 생성 및 검증이 쉬워야 함
- 위조는 계산적으로 불가능해야 함
- 전자서명의 복사본을 저장소에 쉽게 보관할 수 있어야 함

### 공개키 암호를 사용하면 위 조건을 충족할 수 있다.

### 전자서명의 동작원리

### 서명

- 개인키와 해시함수를 활용함
1. 메시지를 해싱하여 해시코드로 만든다.
2. 해시코드를 개인키로 암호화하여 전자서명을 만든다.
3. 메시지원문과 전자서명을 함께 송신한다.

### 검증

- 공개키와 해시함수를 활용함
1. 수신한 메시지를 해싱하여 해시코드1을 만든다.
2. 전자서명을 공개키로 복호화하여 해시코드2를 만든다.
3. 해시코드 1, 2가 동일하면 유효한 전자서명이다.
4. 일치하지 않으면 메시지가 변조되었거나, 서명자의 신원이 불일치한 것.

---

# 네트워크 보안

## HTTPS 동작 원리

HTTPS는 데이터의 무결성과 암호화를 통해 데이터를 안전하게 보호하는 프로토콜입니다. 이를 위해 **SSL 핸드셰이크** 과정이 필요합니다. SSL 핸드셰이크는 사용자가 서버와 안전하게 연결하기 위해 암호화된 데이터를 교환하기 전에 서로 신뢰할 수 있는지 확인하는 초기 단계입니다.

## TLS 핸드셰이크

- **‘Client Hello’ 메시지 전송**
    
    사용자가 웹사이트에 접속하면, 브라우저는 서버에 'Client Hello' 메시지를 전송합니다. 이 메시지에는 암호화 방식, SSL 버전 등의 정보가 포함됩니다.
    
- **‘Server Hello’ 메시지 및 인증서 전송**
    
    서버는 'Server Hello' 메시지와 인증서를 보내고, 연결할 암호화 방식과 키를 교환합니다.
    
- **인증서 검증**
    
    서버에서 받은 인증서를 통해 클라이언트는 서버가 신뢰할 수 있는지 확인합니다.
    
- **세션 키 생성 및 교환**
    
    서버와 클라이언트는 세션 키를 생성하고, 이를 통해 암호화된 데이터를 안전하게 주고받을 수 있게 됩니다.
    
- **‘Finish’ 메시지 교환**
    
    세션이 설정되면, 서버와 클라이언트는 암호화된 데이터를 안전하게 전송할 준비를 마친 후 'Finish' 메시지를 교환합니다.
    
- **암호화된 데이터 전송**
    
    이 과정 이후 암호화된 데이터가 안전하게 전송됩니다.
    

## 인증서 구조

SSL/TLS 인증서는 클라이언트와 서버 간의 안전한 통신을 위해 사용되는 중요한 요소입니다. 인증서는 서버의 신뢰성을 증명하고, 통신 중에 암호화된 데이터를 주고받을 수 있도록 합니다.

### 인증서의 주요 구성 요소:

1. **공개 키 (Public Key)**
    - 서버가 데이터를 암호화하고 클라이언트가 이를 복호화할 때 사용하는 키입니다.
2. **개인 키 (Private Key)**
    - 서버가 데이터를 복호화하는 데 사용하는 키입니다. 개인 키는 서버에만 저장되어야 하며, 공개되지 않습니다.
3. **인증서 서명 (Signature)**
    - 인증서를 발급한 인증 기관(CA)에서 서명한 부분으로, 인증서의 진위를 증명합니다.
4. **서버 정보 (Server Information)**
    - 인증서에는 서버의 도메인 이름, 조직 이름, 발급 기관 등의 정보가 포함됩니다.
5. **유효 기간 (Validity Period)**
    - 인증서의 유효 기간을 나타내며, 만료되면 인증서를 갱신해야 합니다.
6. **인증서 발급자 (Issuer)**
    - 인증서를 발급한 인증 기관의 정보가 포함됩니다.

---

### **SSL Strip**

**SSL Strip**은 HTTPS와 같은 보안 프로토콜을 우회하여, 중간자가 HTTPS 트래픽을 HTTP로 변환하여 클라이언트와 서버 간의 통신을 가로채는 공격 방식입니다.

### 공격 방법:

- **HTTPS → HTTP 변환**: SSL Strip 공격자는 클라이언트가 서버와 HTTPS로 통신할 때 이를 HTTP로 변환합니다. 즉, 클라이언트는 여전히 HTTPS 사이트에 접속한 것으로 인식하지만, 실제로는 HTTP로 통신합니다.
- **암호화되지 않은 데이터 전송**: 이 방식으로 통신되는 데이터는 암호화되지 않기 때문에, 공격자는 민감한 정보를 읽거나 수정할 수 있습니다.

### 방어 방법:

- **HTTP Strict Transport Security (HSTS)**: 클라이언트가 서버와 반드시 HTTPS로만 통신하도록 강제하는 보안 기능을 사용합니다.
- **클라이언트 측 HTTPS 강제화**: 웹사이트에서 항상 HTTPS를 사용하도록 설정하는 것이 중요합니다.

---

### **DNS Spoofing (DNS 캐시 중독)**

**DNS Spoofing**은 공격자가 DNS 서버에 잘못된 정보를 삽입하여, 사용자가 접속하려는 웹사이트를 다른 사이트로 유도하는 공격입니다.

### 공격 방법:

- **잘못된 DNS 응답 전송**: 공격자는 사용자가 요청한 도메인에 대한 잘못된 IP 주소를 DNS 서버에 전달하여, 사용자가 원하지 않는 사이트로 접속하도록 유도합니다.
- **중간자 공격**: 공격자는 사용자가 믿고 있는 DNS 서버 대신 자신이 설정한 서버로 트래픽을 유도하여, 중요한 정보를 가로채거나 변경할 수 있습니다.

### 방어 방법:

- **DNSSEC (DNS Security Extensions)**: DNS 응답을 암호화하여 DNS 응답이 변조되지 않도록 보호합니다.
- **정확한 DNS 서버 사용**: 신뢰할 수 있는 DNS 서버를 사용하고, 서버의 보안을 강화합니다.

---

### **Man in the Middle (MITM) 공격**

**MITM 공격**은 공격자가 클라이언트와 서버 사이에 끼어들어, 두 당사자 간의 통신을 감청하고 조작하는 공격입니다. 이 공격을 통해 공격자는 민감한 데이터를 도청하거나 변조할 수 있습니다.

### 공격 방법:

- **암호화된 통신 가로채기**: 공격자는 클라이언트와 서버 간의 암호화된 통신을 해독하고, 이를 수정한 후 다시 암호화하여 전달합니다.
- **세션 하이재킹**: 공격자는 클라이언트와 서버 간의 인증 세션을 탈취하여, 사용자가 인증된 것처럼 위장할 수 있습니다.

### 방어 방법:

- **SSL/TLS 사용**: HTTPS를 사용하여 모든 데이터를 암호화합니다.
- **인증서 핀닝 (Certificate Pinning)**: 클라이언트가 서버의 인증서를 고정하여, 공격자가 서버 인증서를 위조할 수 없도록 합니다.
- **Two-Factor Authentication (2FA)**: 다단계 인증을 사용하여, 해커가 사용자 인증 정보를 탈취하더라도 추가적인 보호를 제공합니다.

---

이 항목들을 **노션**에 정리할 때 각 항목의 설명을 간단하게 요약하고, 보안 위협 및 방어 방법을 구체적으로 명시하여 이해도를 높일 수 있습니다.

## SSL Strip

**SSL Strip**은 HTTPS와 같은 보안 프로토콜을 우회하여, 중간자가 HTTPS 트래픽을 HTTP로 변환하여 클라이언트와 서버 간의 통신을 가로채는 공격 방식입니다.

### 공격 방법:

- **HTTPS → HTTP 변환**: SSL Strip 공격자는 클라이언트가 서버와 HTTPS로 통신할 때 이를 HTTP로 변환합니다. 즉, 클라이언트는 여전히 HTTPS 사이트에 접속한 것으로 인식하지만, 실제로는 HTTP로 통신합니다.
- **암호화되지 않은 데이터 전송**: 이 방식으로 통신되는 데이터는 암호화되지 않기 때문에, 공격자는 민감한 정보를 읽거나 수정할 수 있습니다.

### 방어 방법:

- **HTTP Strict Transport Security (HSTS)**: 클라이언트가 서버와 반드시 HTTPS로만 통신하도록 강제하는 보안 기능을 사용합니다.
- **클라이언트 측 HTTPS 강제화**: 웹사이트에서 항상 HTTPS를 사용하도록 설정하는 것이 중요합니다.

## DNS Spoofing

**DNS Spoofing**은 공격자가 DNS 서버에 잘못된 정보를 삽입하여, 사용자가 접속하려는 웹사이트를 다른 사이트로 유도하는 공격입니다.

### 공격 방법:

- **잘못된 DNS 응답 전송**: 공격자는 사용자가 요청한 도메인에 대한 잘못된 IP 주소를 DNS 서버에 전달하여, 사용자가 원하지 않는 사이트로 접속하도록 유도합니다.
- **중간자 공격**: 공격자는 사용자가 믿고 있는 DNS 서버 대신 자신이 설정한 서버로 트래픽을 유도하여, 중요한 정보를 가로채거나 변경할 수 있습니다.

### 방어 방법:

- **DNSSEC (DNS Security Extensions)**: DNS 응답을 암호화하여 DNS 응답이 변조되지 않도록 보호합니다.
- **정확한 DNS 서버 사용**: 신뢰할 수 있는 DNS 서버를 사용하고, 서버의 보안을 강화합니다.

## Man in the Middle 공격

**MITM 공격**은 공격자가 클라이언트와 서버 사이에 끼어들어, 두 당사자 간의 통신을 감청하고 조작하는 공격입니다. 이 공격을 통해 공격자는 민감한 데이터를 도청하거나 변조할 수 있습니다.

### 공격 방법:

- **암호화된 통신 가로채기**: 공격자는 클라이언트와 서버 간의 암호화된 통신을 해독하고, 이를 수정한 후 다시 암호화하여 전달합니다.
- **세션 하이재킹**: 공격자는 클라이언트와 서버 간의 인증 세션을 탈취하여, 사용자가 인증된 것처럼 위장할 수 있습니다.

### 방어 방법:

- **SSL/TLS 사용**: HTTPS를 사용하여 모든 데이터를 암호화합니다.
- **인증서 핀닝 (Certificate Pinning)**: 클라이언트가 서버의 인증서를 고정하여, 공격자가 서버 인증서를 위조할 수 없도록 합니다.
- **Two-Factor Authentication (2FA)**: 다단계 인증을 사용하여, 해커가 사용자 인증 정보를 탈취하더라도 추가적인 보호를 제공합니다.
